@tailwind base;
@tailwind components;
@tailwind utilities;

/* ================================================
   Theme Color Variables
   ================================================ */
:root {
  /* Default theme: Blue */
  --color-primary: #3B82F6;
  --color-primary-dark: #2563EB;
  --color-primary-light: #60A5FA;
  --color-primary-rgb: 59, 130, 246;
}

/* ================================================
   Theme Button Styles
   ================================================ */
.theme-primary-button {
  background-color: var(--color-primary);
}

.theme-primary-button:hover {
  background-color: var(--color-primary-dark);
}

.theme-primary-button:active {
  filter: brightness(0.9);
}

/* ================================================
   End Theme Color Variables
   ================================================ */

html {
  scroll-behavior: smooth;
}

/* Mobile-safe height handling (fixes iOS Safari viewport issues) */
html, body, #root {
  height: 100%;
  height: 100vh;
  height: 100dvh; /* Dynamic viewport height for mobile browsers */
}

body {
  @apply bg-gray-50 text-gray-900;
  overflow: hidden; /* Prevent body scroll on mobile */
  position: fixed; /* Prevent address bar from causing scroll on mobile */
  width: 100%;
}

/* Dark mode styles */
.dark body {
  @apply bg-gray-900 text-gray-100;
}

.dark {
  color-scheme: dark;
}

/* Dark mode for common elements */
.dark input,
.dark textarea,
.dark select {
  background-color: #1f2937; /* gray-800 */
  border-color: #374151; /* gray-700 */
  color: #f3f4f6; /* gray-100 */
}

.dark input:focus,
.dark textarea:focus,
.dark select:focus {
  --tw-ring-color: #3b82f6; /* blue-500 */
  border-color: #3b82f6; /* blue-500 */
}

.dark input::placeholder,
.dark textarea::placeholder {
  color: #6b7280; /* gray-500 */
}

.dark input:disabled,
.dark textarea:disabled,
.dark select:disabled {
  background-color: #111827; /* gray-900 */
  color: #9ca3af; /* gray-400 */
}

/* Dark mode text colors - make everything visible */
.dark h1,
.dark h2,
.dark h3,
.dark h4,
.dark h5,
.dark h6 {
  color: #f3f4f6 !important; /* gray-100 */
}

.dark p,
.dark span,
.dark div,
.dark label {
  color: #e5e7eb; /* gray-200 */
}

.dark .text-gray-900,
.dark .text-gray-800,
.dark .text-gray-700 {
  color: #f3f4f6 !important; /* gray-100 */
}

.dark .text-gray-600,
.dark .text-gray-500 {
  color: #d1d5db !important; /* gray-300 */
}

.dark .text-gray-400 {
  color: #d1d5db !important; /* gray-300 - Better contrast (4.5:1+) */
}

/* Dark mode for cards and panels */
.dark .bg-white:not(.bg-blue-600):not(.bg-red-600):not(.bg-green-600):not(.bg-purple-600):not(.bg-yellow-600) {
  background-color: #1f2937 !important; /* gray-800 */
}

.dark .border-gray-200,
.dark .border-gray-300 {
  border-color: #374151 !important; /* gray-700 */
}

.dark .bg-gray-50,
.dark .bg-gray-100 {
  background-color: #111827 !important; /* gray-900 */
}

/* Dark mode for tables */
.dark thead {
  background-color: #1f2937 !important; /* gray-800 */
  color: #f3f4f6 !important; /* gray-100 */
}

.dark tbody {
  background-color: #1f2937 !important; /* gray-800 */
}

.dark tr {
  border-color: #374151 !important; /* gray-700 */
}

.dark td,
.dark th {
  color: #e5e7eb !important; /* gray-200 */
}

/* Dark mode for hover states */
.dark .hover\:bg-gray-50:hover,
.dark .hover\:bg-gray-100:hover {
  background-color: #374151 !important; /* gray-700 */
}

.dark .hover\:bg-gray-200:hover {
  background-color: #4b5563 !important; /* gray-600 */
}

/* Dark mode for shadows */
.dark .shadow,
.dark .shadow-lg,
.dark .shadow-md {
  box-shadow: 0 0 0 1px rgba(255, 255, 255, 0.1) !important;
}

/* Dark mode for dividers */
.dark .divide-gray-200 > *,
.dark .divide-gray-100 > * {
  border-color: #374151 !important; /* gray-700 */
}

/* Keep colored text visible in dark mode */
.dark .text-blue-600 {
  color: #60a5fa !important; /* blue-400 */
}

.dark .text-blue-500 {
  color: #60a5fa !important; /* blue-400 */
}

.dark .text-red-600 {
  color: #f87171 !important; /* red-400 */
}

.dark .text-red-500 {
  color: #f87171 !important; /* red-400 */
}

.dark .text-green-600 {
  color: #4ade80 !important; /* green-400 */
}

.dark .text-green-500 {
  color: #4ade80 !important; /* green-400 */
}

.dark .text-yellow-600 {
  color: #fbbf24 !important; /* yellow-400 */
}

.dark .text-yellow-500 {
  color: #fbbf24 !important; /* yellow-400 */
}

.dark .text-purple-600 {
  color: #c084fc !important; /* purple-400 */
}

.dark .text-purple-500 {
  color: #c084fc !important; /* purple-400 */
}

/* Dark mode for status badges */
.dark .bg-blue-100 {
  background-color: #1e3a8a !important; /* blue-900 */
}

.dark .bg-green-100 {
  background-color: #14532d !important; /* green-900 */
}

.dark .bg-yellow-100 {
  background-color: #713f12 !important; /* yellow-900 */
}

.dark .bg-red-100 {
  background-color: #7f1d1d !important; /* red-900 */
}

.dark .bg-purple-100 {
  background-color: #581c87 !important; /* purple-900 */
}

/* Dark mode for buttons and links */
.dark button {
  color: #e5e7eb; /* gray-200 */
}

.dark a {
  color: #93c5fd; /* blue-300 */
}

.dark a:hover {
  color: #60a5fa; /* blue-400 */
}

/* Dark mode for placeholder text */
.dark ::placeholder {
  color: #6b7280 !important; /* gray-500 */
}

/* Animation delays for chart background */
@keyframes pulse {
  0%, 100% {
    opacity: 1;
    transform: scale(1);
  }
  50% {
    opacity: 0.85;
    transform: scale(1.05);
  }
}

/* Fade in and scale animation for PEG circles */
@keyframes fadeInScale {
  0% {
    opacity: 0;
    transform: translate(-50%, -50%) scale(0);
  }
  100% {
    opacity: 1;
    transform: translate(-50%, -50%) scale(1);
  }
}

.animation-delay-2000 {
  animation-delay: 2s;
}

.animation-delay-4000 {
  animation-delay: 4s;
}

/* Smooth scroll for all scrollable elements */
* {
  scroll-behavior: smooth;
}

/* Custom scrollbar styling for webkit browsers */
*::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}

*::-webkit-scrollbar-track {
  background: #f1f1f1;
}

.dark *::-webkit-scrollbar-track {
  background: #1f2937;
}

*::-webkit-scrollbar-thumb {
  background: #888;
  border-radius: 4px;
}

.dark *::-webkit-scrollbar-thumb {
  background: #4b5563;
}

*::-webkit-scrollbar-thumb:hover {
  background: #555;
}

.dark *::-webkit-scrollbar-thumb:hover {
  background: #6b7280;
}

/* Table scroll container */
.table-container {
  overflow-x: auto;
  overflow-y: auto;
  max-width: 100%;
  -webkit-overflow-scrolling: touch;
}

/* Table responsive styles */
table {
  min-width: 100%;
}

/* Sticky table header */
thead.sticky {
  position: sticky;
  top: 0;
  z-index: 10;
  background: #f9fafb;
}

/* Table scrollbar styling */
.table-container::-webkit-scrollbar {
  height: 10px;
}

.table-container::-webkit-scrollbar-track {
  background: #f8f9fa;
  border-radius: 5px;
}

.table-container::-webkit-scrollbar-thumb {
  background: #cbd5e0;
  border-radius: 5px;
}

.table-container::-webkit-scrollbar-thumb:hover {
  background: #a0aec0;
}

/* ================================================
   SweetAlert2 Dark Mode Support
   ================================================ */

/* Dark mode base popup styling */
.dark .swal2-popup {
  background-color: #1F2937 !important; /* gray-800 */
  color: #F9FAFB !important; /* gray-50 */
  border: 1px solid #374151 !important; /* gray-700 */
}

/* Dark mode custom class for popup */
.dark-mode-swal {
  border: 1px solid #374151 !important; /* gray-700 */
}

/* Dark mode title */
.dark .swal2-title,
.swal-dark-title {
  color: #F9FAFB !important; /* gray-50 */
}

/* Dark mode content */
.dark .swal2-html-container,
.swal-dark-content {
  color: #D1D5DB !important; /* gray-300 */
}

/* Dark mode close button */
.dark .swal2-close {
  color: #D1D5DB !important; /* gray-300 */
}

.dark .swal2-close:hover {
  color: #F9FAFB !important; /* gray-50 */
}

/* Dark mode icon border */
.dark .swal2-icon {
  border-color: #374151 !important; /* gray-700 */
}

/* Success icon in dark mode */
.dark .swal2-success-ring {
  border-color: rgba(34, 197, 94, 0.3) !important; /* green-500 with opacity */
}

.dark .swal2-success-line-tip,
.dark .swal2-success-line-long {
  background-color: #22C55E !important; /* green-500 */
}

/* Error icon in dark mode */
.dark .swal2-error [class^='swal2-x-mark-line'] {
  background-color: #EF4444 !important; /* red-500 */
}

/* Warning icon in dark mode */
.dark .swal2-warning {
  border-color: #F59E0B !important; /* amber-500 */
  color: #F59E0B !important;
}

/* Info icon in dark mode */
.dark .swal2-info {
  border-color: #3B82F6 !important; /* blue-500 */
  color: #3B82F6 !important;
}

/* Question icon in dark mode */
.dark .swal2-question {
  border-color: #6366F1 !important; /* indigo-500 */
  color: #6366F1 !important;
}

/* Styled confirm button */
.swal-confirm-btn {
  background-color: #3B82F6 !important; /* blue-600 */
  color: white !important;
  padding: 0.5rem 1.5rem !important;
  border-radius: 0.5rem !important;
  font-weight: 500 !important;
  border: none !important;
  transition: background-color 0.2s ease !important;
}

.swal-confirm-btn:hover {
  background-color: #2563EB !important; /* blue-700 */
}

.swal-confirm-btn:focus {
  box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.5) !important;
}

/* Styled cancel button */
.swal-cancel-btn {
  background-color: #6B7280 !important; /* gray-500 */
  color: white !important;
  padding: 0.5rem 1.5rem !important;
  border-radius: 0.5rem !important;
  font-weight: 500 !important;
  border: none !important;
  transition: background-color 0.2s ease !important;
}

.swal-cancel-btn:hover {
  background-color: #4B5563 !important; /* gray-600 */
}

.swal-cancel-btn:focus {
  box-shadow: 0 0 0 3px rgba(107, 114, 128, 0.5) !important;
}

/* Dark mode input fields in SweetAlert2 */
.dark .swal2-input,
.dark .swal2-textarea,
.dark .swal2-select {
  background-color: #1F2937 !important; /* gray-800 */
  border-color: #374151 !important; /* gray-700 */
  color: #F9FAFB !important; /* gray-50 */
}

.dark .swal2-input:focus,
.dark .swal2-textarea:focus,
.dark .swal2-select:focus {
  border-color: #3B82F6 !important; /* blue-500 */
  box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.3) !important;
}

.dark .swal2-input::placeholder,
.dark .swal2-textarea::placeholder {
  color: #6B7280 !important; /* gray-500 */
}

/* Dark mode validation message */
.dark .swal2-validation-message {
  background-color: #7F1D1D !important; /* red-900 */
  color: #FCA5A5 !important; /* red-300 */
  border-color: #991B1B !important; /* red-800 */
}

/* Dark mode footer */
.dark .swal2-footer {
  border-color: #374151 !important; /* gray-700 */
  color: #D1D5DB !important; /* gray-300 */
}

/* Dark mode progress steps */
.dark .swal2-progress-steps .swal2-progress-step {
  background-color: #3B82F6 !important; /* blue-500 */
}

.dark .swal2-progress-steps .swal2-progress-step-line {
  background-color: #374151 !important; /* gray-700 */
}

/* Dark mode timer progress bar */
.dark .swal2-timer-progress-bar {
  background-color: rgba(59, 130, 246, 0.6) !important; /* blue-500 with opacity */
}

/* Dark mode backdrop */
.dark .swal2-backdrop-show {
  background-color: rgba(0, 0, 0, 0.7) !important;
}

/* ================================================
   End SweetAlert2 Dark Mode Support
   ================================================ */

/* ================================================
   React Hot Toast Dark Mode Support
   ================================================ */

/* Light mode toast colors */
:root {
  /* Default toast */
  --toast-bg: #ffffff;
  --toast-text: #1f2937;
  --toast-border: #e5e7eb;

  /* Success toast */
  --toast-success-bg: #f0fdf4;
  --toast-success-text: #166534;
  --toast-success-border: #86efac;

  /* Error toast */
  --toast-error-bg: #fef2f2;
  --toast-error-text: #991b1b;
  --toast-error-border: #fca5a5;

  /* Loading toast */
  --toast-loading-bg: #eff6ff;
  --toast-loading-text: #1e40af;
  --toast-loading-border: #93c5fd;
}

/* Dark mode toast colors */
.dark {
  /* Default toast */
  --toast-bg: #1f2937;
  --toast-text: #f3f4f6;
  --toast-border: #374151;

  /* Success toast */
  --toast-success-bg: #064e3b;
  --toast-success-text: #86efac;
  --toast-success-border: #065f46;

  /* Error toast */
  --toast-error-bg: #7f1d1d;
  --toast-error-text: #fca5a5;
  --toast-error-border: #991b1b;

  /* Loading toast */
  --toast-loading-bg: #1e3a8a;
  --toast-loading-text: #93c5fd;
  --toast-loading-border: #1e40af;
}

/* ================================================
   End React Hot Toast Dark Mode Support
   ================================================ */

/* ================================================
   Accessibility - Focus Indicators
   ================================================ */

/* Global focus styles with proper contrast */
*:focus-visible {
  outline: 2px solid #3B82F6; /* blue-500 */
  outline-offset: 2px;
}

.dark *:focus-visible {
  outline: 2px solid #60A5FA; /* blue-400 - better contrast in dark mode */
  outline-offset: 2px;
}

/* Button focus styles */
button:focus-visible {
  outline: 2px solid #3B82F6;
  outline-offset: 2px;
}

.dark button:focus-visible {
  outline: 2px solid #60A5FA;
  outline-offset: 2px;
}

/* Link focus styles */
a:focus-visible {
  outline: 2px solid #3B82F6;
  outline-offset: 2px;
  border-radius: 2px;
}

.dark a:focus-visible {
  outline: 2px solid #60A5FA;
  outline-offset: 2px;
}

/* Input focus styles - enhanced for visibility */
input:focus-visible,
textarea:focus-visible,
select:focus-visible {
  outline: 2px solid #3B82F6 !important;
  outline-offset: 0px;
  border-color: #3B82F6 !important;
  box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1) !important;
}

.dark input:focus-visible,
.dark textarea:focus-visible,
.dark select:focus-visible {
  outline: 2px solid #60A5FA !important;
  outline-offset: 0px;
  border-color: #60A5FA !important;
  box-shadow: 0 0 0 3px rgba(96, 165, 250, 0.2) !important;
}

/* Interactive element focus - for custom components */
[role="button"]:focus-visible,
[role="menuitem"]:focus-visible,
[role="tab"]:focus-visible,
[role="switch"]:focus-visible,
[role="checkbox"]:focus-visible,
[role="radio"]:focus-visible {
  outline: 2px solid #3B82F6;
  outline-offset: 2px;
}

.dark [role="button"]:focus-visible,
.dark [role="menuitem"]:focus-visible,
.dark [role="tab"]:focus-visible,
.dark [role="switch"]:focus-visible,
.dark [role="checkbox"]:focus-visible,
.dark [role="radio"]:focus-visible {
  outline: 2px solid #60A5FA;
  outline-offset: 2px;
}

/* Skip to main content link - for keyboard navigation */
.skip-to-main {
  position: absolute;
  top: -40px;
  left: 0;
  background: #3B82F6;
  color: white;
  padding: 8px 16px;
  text-decoration: none;
  z-index: 10000;
  border-radius: 0 0 4px 0;
}

.skip-to-main:focus {
  top: 0;
}

.dark .skip-to-main {
  background: #60A5FA;
  color: #1F2937;
}

/* Focus within - for container elements */
.focus-within-ring:focus-within {
  ring: 2px;
  ring-color: #3B82F6;
  ring-offset: 2px;
}

.dark .focus-within-ring:focus-within {
  ring-color: #60A5FA;
}

/* ================================================
   End Accessibility - Focus Indicators
   ================================================ */

/* ================================================
   Mobile Responsive Enhancements
   ================================================ */

/* Smooth scrolling with momentum on mobile */
* {
  -webkit-overflow-scrolling: touch;
}

/* Better tap target sizes for mobile */
@media (max-width: 768px) {
  button, a, input, select, textarea {
    min-height: 44px;
    min-width: 44px;
  }
}

/* Prevent zoom on input focus (iOS) */
@media (max-width: 768px) {
  input[type="text"],
  input[type="email"],
  input[type="password"],
  input[type="number"],
  input[type="tel"],
  input[type="url"],
  input[type="search"],
  textarea,
  select {
    font-size: 16px !important;
  }
}

/* Custom scrollbar for webkit browsers (desktop) */
@media (min-width: 768px) {
  .scrollbar-thin::-webkit-scrollbar {
    width: 6px;
    height: 6px;
  }

  .scrollbar-thin::-webkit-scrollbar-track {
    background: transparent;
  }

  .scrollbar-thin::-webkit-scrollbar-thumb {
    background: #d1d5db;
    border-radius: 3px;
  }

  .dark .scrollbar-thin::-webkit-scrollbar-thumb {
    background: #4b5563;
  }

  .scrollbar-thin::-webkit-scrollbar-thumb:hover {
    background: #9ca3af;
  }

  .dark .scrollbar-thin::-webkit-scrollbar-thumb:hover {
    background: #6b7280;
  }
}

/* Hide scrollbar on mobile for cleaner look */
@media (max-width: 767px) {
  .scrollbar-thin {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }

  .scrollbar-thin::-webkit-scrollbar {
    display: none;
  }
}

/* Prevent text selection on interactive elements (better mobile UX) */
button, .no-select {
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
}

/* Touch-friendly active states */
@media (hover: none) and (pointer: coarse) {
  button:active,
  a:active,
  .clickable:active {
    transform: scale(0.98);
    transition: transform 0.1s ease;
  }
}

/* Ensure modals are properly sized on mobile */
@media (max-width: 640px) {
  .modal-content {
    max-height: calc(100dvh - 2rem);
    margin: 1rem;
  }
}

/* ================================================
   End Mobile Responsive Enhancements
   ================================================ */


