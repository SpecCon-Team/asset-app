import{d as l,u as c,c as u,g as d,l as g}from"./api-BguKtNX6.js";import{a as A}from"./index-B_IVq7rD.js";const h=A((r,i)=>({assets:[],currentAsset:null,isLoading:!1,error:null,fetchAssets:async e=>{r({isLoading:!0,error:null});try{const s=await g(e);r({assets:s,isLoading:!1})}catch(s){r({error:s.message,isLoading:!1})}},fetchAssetById:async e=>{r({isLoading:!0,error:null});try{const s=await d(e);r({currentAsset:s,isLoading:!1})}catch(s){r({error:s.message,isLoading:!1})}},createAsset:async e=>{r({isLoading:!0,error:null});try{const s=await u(e);return r(a=>({assets:[...a.assets,s],isLoading:!1})),s}catch(s){throw r({error:s.message,isLoading:!1}),s}},updateAsset:async(e,s)=>{r({isLoading:!0,error:null});try{const a=await c(e,s);return r(t=>{var o;return{assets:t.assets.map(n=>n.id===e?a:n),currentAsset:((o=t.currentAsset)==null?void 0:o.id)===e?a:t.currentAsset,isLoading:!1}}),a}catch(a){throw r({error:a.message,isLoading:!1}),a}},deleteAsset:async e=>{r({isLoading:!0,error:null});try{await l(e),r(s=>({assets:s.assets.filter(a=>a.id!==e),isLoading:!1}))}catch(s){throw r({error:s.message,isLoading:!1}),s}},bulkCreateAssets:async e=>{r({isLoading:!0,error:null});try{await bulkCreateAssets(e),await i().fetchAssets()}catch(s){throw r({error:s.message,isLoading:!1}),s}},clearCurrentAsset:()=>r({currentAsset:null})}));export{h as u};
