import{j as e}from"./vendor-charts-DVp8BQgJ.js";import{r as m,b as G,h as J,u as X}from"./vendor-react-CFQdvhEG.js";import{showError as N,showSuccess as C,showConfirm as K}from"./sweetalert-DcBwdyhg.js";import{a as k,u as H,L as O,f as D}from"./index-BJREwX_9.js";import{X as B,a1 as Q,a2 as R,a3 as Z,P as A,e as I,_ as z,i as ee,aj as L,$ as se,ak as M,af as v,U as P,ad as q,ai as V,T as te,ag as U,a7 as Y}from"./vendor-ui-Bhgb65c8.js";function ae(r){const[h,c]=m.useState([]),[j,f]=m.useState(!1),[u,g]=m.useState(null),o=async()=>{var a,l;if(!r){c([]);return}try{f(!0),g(null);const i=await k().get(`/peg/${r}/assets`);c(i.data)}catch(n){console.error("Error loading client assets:",n),g(((l=(a=n.response)==null?void 0:a.data)==null?void 0:l.error)||"Failed to load assets"),N("Error","Failed to load client assets"),c([])}finally{f(!1)}},x=async a=>{var l,n;if(!r)return!1;try{return await k().post(`/peg/${r}/assets`,{assetId:a}),await o(),!0}catch(i){return console.error("Error assigning asset:",i),N("Error",((n=(l=i.response)==null?void 0:l.data)==null?void 0:n.error)||"Failed to assign asset"),!1}},b=async a=>{var l,n;if(!r)return!1;try{const i=k();for(const p of a)await i.post(`/peg/${r}/assets`,{assetId:p});return await o(),!0}catch(i){return console.error("Error assigning assets:",i),N("Error",((n=(l=i.response)==null?void 0:l.data)==null?void 0:n.error)||"Failed to assign assets"),!1}},y=async a=>{var l,n;if(r)try{return await k().delete(`/peg/${r}/assets/${a}`),await o(),!0}catch(i){return console.error("Error unassigning asset:",i),N("Error",((n=(l=i.response)==null?void 0:l.data)==null?void 0:n.error)||"Failed to unassign asset"),!1}};return m.useEffect(()=>{o()},[r]),{assets:h,loading:j,error:u,loadAssets:o,assignAsset:x,assignAssets:b,unassignAsset:y}}function re({asset:r,onUnassign:h,onViewDetails:c}){const j=()=>{var o;const g=((o=r.asset_type)==null?void 0:o.toLowerCase())||"";return g.includes("laptop")?e.jsx(R,{className:"w-6 h-6"}):g.includes("tablet")?e.jsx(Z,{className:"w-6 h-6"}):e.jsx(A,{className:"w-6 h-6"})},f=()=>{var o;const g=((o=r.condition)==null?void 0:o.toLowerCase())||"";return g.includes("good")||g.includes("excellent")?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400":g.includes("fair")||g.includes("average")?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-400":g.includes("poor")||g.includes("bad")?"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400":"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300"},u=()=>{var o;const g=((o=r.status)==null?void 0:o.toLowerCase())||"available";return g==="assigned"?"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-400":g==="maintenance"?"bg-orange-100 text-orange-800 dark:bg-orange-900/30 dark:text-orange-400":"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300"};return e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-4 hover:shadow-md transition-shadow",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 bg-blue-100 dark:bg-blue-900/30 rounded-lg flex items-center justify-center text-blue-600 dark:text-blue-400",children:j()}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white truncate",children:r.name}),r.serial_number&&e.jsxs("p",{className:"text-sm font-mono text-gray-600 dark:text-gray-400 mt-1",children:["SN: ",r.serial_number]})]})]}),e.jsx("button",{onClick:()=>h(r.id),className:"p-1.5 text-red-600 hover:bg-red-50 dark:hover:bg-red-900/30 rounded-lg transition-colors",title:"Unassign Asset",children:e.jsx(B,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"flex flex-wrap gap-2 mb-3",children:[r.asset_type&&e.jsx("span",{className:"px-2 py-1 text-xs font-medium bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded",children:r.asset_type}),r.condition&&e.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded ${f()}`,children:r.condition}),r.status&&e.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded ${u()}`,children:r.status})]}),r.asset_code&&e.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400 mb-2",children:["Code: ",r.asset_code]}),c&&e.jsxs("button",{onClick:()=>c(r.id),className:"w-full mt-2 px-3 py-1.5 text-sm text-blue-600 dark:text-blue-400 hover:bg-blue-50 dark:hover:bg-blue-900/30 rounded-lg transition-colors flex items-center justify-center gap-2",children:[e.jsx(Q,{className:"w-4 h-4"}),"View Details"]})]})}function le({isOpen:r,onClose:h,onAssign:c,clientName:j}){const[f,u]=m.useState([]),[g,o]=m.useState(!1),[x,b]=m.useState(""),[y,a]=m.useState("all"),[l,n]=m.useState(new Set),[i,p]=m.useState(!1);m.useEffect(()=>{r&&(w(),n(new Set),b(""),a("all"))},[r]);const w=async()=>{try{o(!0);const d=await k().get("/assets/available");u(d.data)}catch(t){console.error("Error loading available assets:",t),N("Error","Failed to load available assets"),u([])}finally{o(!1)}},S=t=>{const d=new Set(l);d.has(t)?d.delete(t):d.add(t),n(d)},E=async()=>{if(l.size===0){N("No Selection","Please select at least one asset to assign");return}p(!0),await c(Array.from(l))&&h(),p(!1)},F=t=>{const d=(t==null?void 0:t.toLowerCase())||"";return d.includes("laptop")?e.jsx(R,{className:"w-5 h-5"}):d.includes("tablet")?e.jsx(Z,{className:"w-5 h-5"}):e.jsx(A,{className:"w-5 h-5"})},$=t=>{const d=(t==null?void 0:t.toLowerCase())||"";return d.includes("good")||d.includes("excellent")?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400":d.includes("fair")||d.includes("average")?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-400":d.includes("poor")||d.includes("bad")?"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400":"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300"},s=f.filter(t=>{var T,W;const d=!x||t.name.toLowerCase().includes(x.toLowerCase())||((T=t.serial_number)==null?void 0:T.toLowerCase().includes(x.toLowerCase()))||t.asset_code.toLowerCase().includes(x.toLowerCase()),_=y==="all"||((W=t.asset_type)==null?void 0:W.toLowerCase().includes(y.toLowerCase()));return d&&_});return r?e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 dark:bg-opacity-70 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] flex flex-col",children:[e.jsx("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:["Assign Assets to ",j]}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:"Select assets to assign to this client"})]}),e.jsx("button",{onClick:h,className:"p-2 text-gray-500 hover:text-gray-700 dark:hover:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:e.jsx(B,{className:"w-5 h-5"})})]})}),e.jsx("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(I,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search by name, serial number, or code...",value:x,onChange:t=>b(t.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>a("all"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${y==="all"?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 dark:bg-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:"All"}),e.jsx("button",{onClick:()=>a("laptop"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${y==="laptop"?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 dark:bg-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:"Laptops"}),e.jsx("button",{onClick:()=>a("tablet"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${y==="tablet"?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 dark:bg-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:"Tablets"})]})]})}),e.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:g?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx(z,{className:"w-8 h-8 text-blue-600 animate-spin"})}):s.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(A,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:x||y!=="all"?"No assets match your search criteria":"No available assets found"})]}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:s.map(t=>{const d=l.has(t.id);return e.jsx("div",{onClick:()=>S(t.id),className:`p-4 rounded-lg border-2 cursor-pointer transition-all ${d?"border-blue-500 bg-blue-50 dark:bg-blue-900/20":"border-gray-200 dark:border-gray-700 hover:border-gray-300 dark:hover:border-gray-600"}`,children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center ${d?"bg-blue-600 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-400"}`,children:d?e.jsx(ee,{className:"w-5 h-5"}):F(t.asset_type)}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white truncate",children:t.name}),t.serial_number&&e.jsxs("p",{className:"text-sm font-mono text-gray-600 dark:text-gray-400 mt-1",children:["SN: ",t.serial_number]}),e.jsxs("div",{className:"flex flex-wrap gap-2 mt-2",children:[t.asset_type&&e.jsx("span",{className:"px-2 py-0.5 text-xs font-medium bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded",children:t.asset_type}),t.condition&&e.jsx("span",{className:`px-2 py-0.5 text-xs font-medium rounded ${$(t.condition)}`,children:t.condition})]}),t.asset_code&&e.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:["Code: ",t.asset_code]})]})]})},t.id)})})}),e.jsxs("div",{className:"p-6 border-t border-gray-200 dark:border-gray-700 flex items-center justify-between",children:[e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:l.size>0&&e.jsxs("span",{children:[l.size," asset",l.size!==1?"s":""," selected"]})}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:h,className:"px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:"Cancel"}),e.jsx("button",{onClick:E,disabled:l.size===0||i,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors flex items-center gap-2",children:i?e.jsxs(e.Fragment,{children:[e.jsx(z,{className:"w-4 h-4 animate-spin"}),"Assigning..."]}):`Assign ${l.size>0?`(${l.size})`:""}`})]})]})]})}):null}function ne({clientId:r,clientName:h,assets:c,loading:j,onAssign:f,onUnassign:u}){const[g,o]=G.useState(!1),[x,b]=G.useState(!1),y=async l=>{b(!0);try{const n=await f(l);return n&&C("Success",`${l.length} asset${l.length!==1?"s":""} assigned successfully`),n}catch{return!1}finally{b(!1)}},a=async l=>{(await K("Unassign Asset","Are you sure you want to unassign this asset from the client?","Yes, unassign","Cancel")).isConfirmed&&await u(l)&&C("Success","Asset unassigned successfully")};return e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white flex items-center gap-2",children:[e.jsx(A,{className:"w-5 h-5 text-blue-600"}),"Assigned Assets",c.length>0&&e.jsx("span",{className:"px-2 py-0.5 bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-400 rounded-full text-sm font-medium",children:c.length})]}),e.jsxs("button",{onClick:()=>o(!0),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 text-sm font-medium",children:[e.jsx(L,{className:"w-4 h-4"}),"Assign Assets"]})]}),j?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx(z,{className:"w-8 h-8 text-blue-600 animate-spin"})}):c.length===0?e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-lg p-8 text-center border border-gray-200 dark:border-gray-700",children:[e.jsx(A,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"No assets assigned to this client yet"}),e.jsxs("button",{onClick:()=>o(!0),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors inline-flex items-center gap-2",children:[e.jsx(L,{className:"w-4 h-4"}),"Assign First Asset"]})]}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:c.map(l=>e.jsx(re,{asset:l,onUnassign:a},l.id))})]}),e.jsx(le,{isOpen:g,onClose:()=>o(!1),onAssign:y,clientName:h})]})}const de=[{id:"WC",name:"Western Cape",color:"#FF9800"},{id:"EC",name:"Eastern Cape",color:"#8D6E63"},{id:"NC",name:"Northern Cape",color:"#42A5F5"},{id:"FS",name:"Free State",color:"#FFC107"},{id:"KZN",name:"KwaZulu-Natal",color:"#616161"},{id:"NW",name:"North West",color:"#9E9E9E"},{id:"GP",name:"Gauteng",color:"#64B5F6"},{id:"MP",name:"Mpumalanga",color:"#3F51B5"},{id:"LP",name:"Limpopo",color:"#8BC34A"}];function ie({clientId:r,clientName:h}){const{assets:c,loading:j,assignAssets:f,unassignAsset:u}=ae(r),g=async x=>await f(x),o=async x=>await u(x);return e.jsx(ne,{clientId:r,clientName:h,assets:c,loading:j,onAssign:g,onUnassign:o})}function he(){const{provinceId:r}=J(),h=X(),[c,j]=m.useState([]),[f,u]=m.useState(!0),g=H(f,2e3),[o,x]=m.useState(!1),[b,y]=m.useState(null),[a,l]=m.useState(null),[n,i]=m.useState({name:"",location:"",contactPerson:"",phone:"",email:"",clientCode:""}),p=de.find(s=>s.id===r);m.useEffect(()=>{w()},[r]);const w=async()=>{try{u(!0);const d=(await k().get("/peg")).data.filter(_=>_.provinceId===r);j(d)}catch(s){console.error("Error loading clients:",s),N("Error","Failed to load clients")}finally{u(!1)}},S=()=>{x(!0),y(null),i({name:"",location:"",contactPerson:"",phone:"",email:"",clientCode:""})},E=s=>{y(s),i({name:s.name,location:s.location,contactPerson:s.contactPerson||"",phone:s.phone||"",email:s.email||"",clientCode:s.clientCode||""}),x(!0)},F=async s=>{if(s.preventDefault(),!n.name||!n.location){N("Validation Error","Name and Location are required");return}try{const t=k(),d={...n,provinceId:r};b?(await t.put(`/peg/${b.id}`,d),C("Success","Client updated successfully",2e3)):(await t.post("/peg",d),C("Success","Client added successfully",2e3)),x(!1),w()}catch(t){console.error("Error saving client:",t),N("Error","Failed to save client")}},$=async s=>{if((await K("Delete Client",`Are you sure you want to delete ${s.name}?`,"Yes, delete it","Cancel")).isConfirmed)try{await k().delete(`/peg/${s.id}`),C("Deleted","Client deleted successfully",2e3),w()}catch(d){console.error("Error deleting client:",d),N("Error","Failed to delete client")}};return p?e.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[e.jsxs("div",{className:"mb-6",children:[e.jsxs("button",{onClick:()=>h("/my-peg"),className:"flex items-center gap-2 text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white mb-4 transition-colors",children:[e.jsx(se,{className:"w-5 h-5"}),"Back to My PEG"]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-16 h-16 rounded-lg flex items-center justify-center text-white text-2xl font-bold shadow-lg",style:{backgroundColor:p.color},children:p.id}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:p.name}),e.jsxs("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:[c.length," ",c.length===1?"Client":"Clients"]})]})]}),e.jsxs("button",{onClick:S,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center gap-2 transition-colors shadow-sm",children:[e.jsx(L,{className:"w-5 h-5"}),"Add Client"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[e.jsx("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(M,{className:"w-8 h-8 text-blue-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Clients"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:c.length})]})]})}),e.jsx("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(v,{className:"w-8 h-8 text-green-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"With Contact"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:c.filter(s=>s.phone||s.email).length})]})]})}),e.jsx("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(P,{className:"w-8 h-8 text-purple-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Contact Persons"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:c.filter(s=>s.contactPerson).length})]})]})})]}),g?e.jsx(O,{message:"Loading province details..."}):c.length===0?e.jsxs("div",{className:"bg-white dark:bg-gray-800 p-12 rounded-lg shadow-sm text-center border border-gray-200 dark:border-gray-700",children:[e.jsx(M,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"No Clients Yet"}),e.jsxs("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:["Start by adding your first client to ",p.name]}),e.jsxs("button",{onClick:S,className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 inline-flex items-center gap-2",children:[e.jsx(L,{className:"w-5 h-5"}),"Add First Client"]})]}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:c.map(s=>e.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 hover:shadow-md transition-shadow",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 rounded-lg flex items-center justify-center text-white font-bold",style:{backgroundColor:p.color},children:s.name.charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:s.name}),s.clientCode&&e.jsx("span",{className:"px-2 py-0.5 bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 rounded text-xs font-mono",children:s.clientCode})]}),e.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-600 dark:text-gray-400 mt-1",children:[e.jsx(q,{className:"w-4 h-4"}),s.location]})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>l(s),className:"p-2 text-green-600 hover:bg-green-50 dark:hover:bg-green-900/30 rounded-lg transition-colors",title:"View Details",children:e.jsx(Q,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>E(s),className:"p-2 text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/30 rounded-lg transition-colors",title:"Edit Client",children:e.jsx(V,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>$(s),className:"p-2 text-red-600 hover:bg-red-50 dark:hover:bg-red-900/30 rounded-lg transition-colors",title:"Delete Client",children:e.jsx(te,{className:"w-4 h-4"})})]})]}),s.contactPerson&&e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-700 dark:text-gray-300 mb-2",children:[e.jsx(P,{className:"w-4 h-4 text-gray-500"}),s.contactPerson]}),s.phone&&e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-700 dark:text-gray-300 mb-2",children:[e.jsx(v,{className:"w-4 h-4 text-gray-500"}),e.jsx("a",{href:`tel:${s.phone}`,className:"hover:text-blue-600",children:s.phone})]}),s.email&&e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-700 dark:text-gray-300 mb-2",children:[e.jsx(U,{className:"w-4 h-4 text-gray-500"}),e.jsx("a",{href:`mailto:${s.email}`,className:"hover:text-blue-600",children:s.email})]}),s.createdAt&&e.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500 dark:text-gray-400 mt-4 pt-4 border-t border-gray-200 dark:border-gray-700",children:[e.jsx(Y,{className:"w-4 h-4"}),"Added ",D(s.createdAt)]})]},s.id))}),o&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-md w-full max-h-[90vh] overflow-y-auto",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:b?"Edit Client":"Add New Client"}),e.jsxs("button",{onClick:()=>x(!1),className:"text-gray-500 hover:text-gray-700 dark:hover:text-gray-300",children:[e.jsx("span",{className:"sr-only",children:"Close"}),"Ã—"]})]}),e.jsxs("form",{onSubmit:F,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:["Client Name ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:n.name,onChange:s=>i({...n,name:s.target.value}),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white",placeholder:"e.g., ABC Corporation",required:!0})]}),!b&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Client Serial Number"}),e.jsx("input",{type:"text",value:n.clientCode||"",onChange:s=>i({...n,clientCode:s.target.value}),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white font-mono",placeholder:"e.g., 2295PPB0001"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:["Location ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:n.location,onChange:s=>i({...n,location:s.target.value}),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white",placeholder:"e.g., Cape Town",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Contact Person"}),e.jsx("input",{type:"text",value:n.contactPerson,onChange:s=>i({...n,contactPerson:s.target.value}),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white",placeholder:"e.g., John Doe"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Phone Number"}),e.jsx("input",{type:"tel",value:n.phone,onChange:s=>i({...n,phone:s.target.value}),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white",placeholder:"e.g., +27 12 345 6789"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Email Address"}),e.jsx("input",{type:"email",value:n.email,onChange:s=>i({...n,email:s.target.value}),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white",placeholder:"e.g., john@example.com"})]}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx("button",{type:"button",onClick:()=>x(!1),className:"flex-1 px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:"Cancel"}),e.jsxs("button",{type:"submit",className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[b?"Update":"Add"," Client"]})]})]})]})})}),a&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 dark:bg-opacity-70 flex items-center justify-center z-50 p-4",children:e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6 pb-4 border-b border-gray-200 dark:border-gray-700",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-16 h-16 rounded-lg flex items-center justify-center text-white text-2xl font-bold shadow-lg",style:{backgroundColor:p.color},children:a.name.charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:a.name}),a.clientCode&&e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1 font-mono",children:["Code: ",a.clientCode]})]})]}),e.jsx("button",{onClick:()=>l(null),className:"p-2 text-gray-500 hover:text-gray-700 dark:hover:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",title:"Close",children:e.jsx(B,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center gap-2",children:[e.jsx(M,{className:"w-5 h-5 text-blue-600"}),"Basic Information"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-lg p-4",children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Client Name"}),e.jsx("p",{className:"text-base font-medium text-gray-900 dark:text-white",children:a.name})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-lg p-4",children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Province"}),e.jsx("p",{className:"text-base font-medium text-gray-900 dark:text-white",children:p.name})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-lg p-4 md:col-span-2",children:[e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1 flex items-center gap-2",children:[e.jsx(q,{className:"w-4 h-4"}),"Location"]}),e.jsx("p",{className:"text-base font-medium text-gray-900 dark:text-white",children:a.location})]}),a.clientCode&&e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-lg p-4 md:col-span-2",children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Client Code"}),e.jsx("p",{className:"text-base font-mono font-medium text-blue-600 dark:text-blue-400",children:a.clientCode})]})]})]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center gap-2",children:[e.jsx(v,{className:"w-5 h-5 text-green-600"}),"Contact Information"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.contactPerson?e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-lg p-4",children:[e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1 flex items-center gap-2",children:[e.jsx(P,{className:"w-4 h-4"}),"Contact Person"]}),e.jsx("p",{className:"text-base font-medium text-gray-900 dark:text-white",children:a.contactPerson})]}):e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-lg p-4",children:[e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1 flex items-center gap-2",children:[e.jsx(P,{className:"w-4 h-4"}),"Contact Person"]}),e.jsx("p",{className:"text-base text-gray-400 dark:text-gray-500 italic",children:"Not provided"})]}),a.phone?e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-lg p-4",children:[e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1 flex items-center gap-2",children:[e.jsx(v,{className:"w-4 h-4"}),"Phone Number"]}),e.jsx("a",{href:`tel:${a.phone}`,className:"text-base font-medium text-blue-600 dark:text-blue-400 hover:underline",children:a.phone})]}):e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-lg p-4",children:[e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1 flex items-center gap-2",children:[e.jsx(v,{className:"w-4 h-4"}),"Phone Number"]}),e.jsx("p",{className:"text-base text-gray-400 dark:text-gray-500 italic",children:"Not provided"})]}),a.email?e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-lg p-4 md:col-span-2",children:[e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1 flex items-center gap-2",children:[e.jsx(U,{className:"w-4 h-4"}),"Email Address"]}),e.jsx("a",{href:`mailto:${a.email}`,className:"text-base font-medium text-blue-600 dark:text-blue-400 hover:underline break-all",children:a.email})]}):e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-lg p-4 md:col-span-2",children:[e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1 flex items-center gap-2",children:[e.jsx(U,{className:"w-4 h-4"}),"Email Address"]}),e.jsx("p",{className:"text-base text-gray-400 dark:text-gray-500 italic",children:"Not provided"})]})]})]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center gap-2",children:[e.jsx(Y,{className:"w-5 h-5 text-purple-600"}),"Additional Information"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.createdAt&&e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-lg p-4",children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Date Added"}),e.jsx("p",{className:"text-base font-medium text-gray-900 dark:text-white",children:D(a.createdAt)})]}),a.updatedAt&&e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-lg p-4",children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Last Updated"}),e.jsx("p",{className:"text-base font-medium text-gray-900 dark:text-white",children:D(a.updatedAt)})]})]})]}),a&&e.jsx(ie,{clientId:a.id,clientName:a.name})]}),e.jsxs("div",{className:"flex gap-3 mt-6 pt-6 border-t border-gray-200 dark:border-gray-700",children:[e.jsxs("button",{onClick:()=>{l(null),E(a)},className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center justify-center gap-2",children:[e.jsx(V,{className:"w-4 h-4"}),"Edit Client"]}),e.jsx("button",{onClick:()=>l(null),className:"flex-1 px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:"Close"})]})]})})})]}):e.jsxs("div",{className:"p-8 text-center",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-4",children:"Province Not Found"}),e.jsx("button",{onClick:()=>h("/my-peg"),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Back to My PEG"})]})}export{he as default};
