import{j as e}from"./vendor-charts-DVp8BQgJ.js";import{u as I,r as s,L as N}from"./vendor-react-CFQdvhEG.js";import{a4 as J,a1 as P,aD as C,z as S}from"./vendor-ui-Bhgb65c8.js";import{B as O,g as Z}from"./index-DLjcbg9-.js";import{A as H}from"./AnimatedBackground-BQY8GPMU.js";function V(){const T=I(),[d,E]=s.useState(""),[m,A]=s.useState(""),[l,L]=s.useState(""),[x,$]=s.useState(""),[p,n]=s.useState(!1),[b,t]=s.useState(""),[w,y]=s.useState(!1),[g,B]=s.useState(!1),[h,q]=s.useState(!1),[k,F]=s.useState(!1),[o,j]=s.useState({name:!1,email:!1,password:!1,confirmPassword:!1}),[U,v]=s.useState(!1),z=r=>{const a=r.length>=12,f=/[a-z]/.test(r),i=/[A-Z]/.test(r),c=/[0-9]/.test(r);return a&&f&&i&&c},D=r=>({minLength:r.length>=12,lowerCase:/[a-z]/.test(r),upperCase:/[A-Z]/.test(r),number:/[0-9]/.test(r)}),u=r=>{j({...o,[r]:!0})},R=async r=>{if(r.preventDefault(),n(!0),t(""),j({name:!0,email:!0,password:!0,confirmPassword:!0}),!z(l)){t("Password does not meet all requirements"),n(!1);return}if(l!==x){t("Passwords do not match"),n(!1);return}if(!k){t("Please agree to the Terms of Use and Privacy Policy"),n(!1);return}try{const a=new AbortController,f=setTimeout(()=>a.abort(),3e4),i=await fetch(`${Z()}/auth/register`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:d,password:l,name:m}),signal:a.signal});clearTimeout(f);const c=await i.json();if(!i.ok){if(i.status===409||c.message==="Email already in use"){y(!0),t("This email is already registered."),n(!1);return}throw new Error(c.message||"Registration failed")}S.success(c.message||"Registration successful! Please check your email for verification code."),T("/verify-otp",{state:{email:d}})}catch(a){y(!1),a instanceof Error&&a.name==="AbortError"?t("Request timed out. Please check your internet connection and try again."):t(a instanceof Error?a.message:"Sign up failed. Please try again.")}finally{n(!1)}};return e.jsxs("div",{className:"h-screen relative overflow-y-auto",children:[e.jsx(H,{}),e.jsx("div",{className:"min-h-full flex items-center justify-center p-3 sm:p-4 py-8 sm:py-12 relative z-10",children:e.jsxs("div",{className:"max-w-md w-full",children:[e.jsxs("div",{className:"text-center mb-6 sm:mb-8",children:[e.jsx("div",{className:"inline-flex w-12 h-12 sm:w-16 sm:h-16 rounded-full items-center justify-center mb-3 sm:mb-4",style:{backgroundColor:"var(--color-primary)"},children:e.jsx("span",{className:"text-white font-bold text-lg sm:text-2xl",children:"AT"})}),e.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-white drop-shadow-lg",children:"Create Your Account"}),e.jsx("p",{className:"text-white/90 mt-1 sm:mt-2 text-sm sm:text-base",children:"Join AssetTrack Pro today"})]}),e.jsxs("div",{className:"bg-white/95 dark:bg-gray-800/95 backdrop-blur-sm rounded-lg shadow-xl p-4 sm:p-6 lg:p-8 border border-white/20",children:[b&&e.jsx("div",{className:`mb-4 p-4 rounded-lg text-sm ${w?"bg-orange-50 dark:bg-orange-900/30 border border-orange-200 dark:border-orange-700 text-orange-700 dark:text-orange-300":"bg-red-50 dark:bg-red-900/30 border border-red-200 dark:border-red-700 text-red-700 dark:text-red-300"}`,children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(J,{className:"w-5 h-5 flex-shrink-0 mt-0.5"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-medium mb-1",children:b}),w&&e.jsxs("div",{className:"mt-2",children:[e.jsx("p",{className:"mb-2 text-sm",children:"This email is already associated with an account. Please sign in instead or use a different email address."}),e.jsx(N,{to:"/login",className:"inline-block w-full px-4 py-2 text-white rounded-lg text-center font-medium transition-opacity hover:opacity-90",style:{backgroundColor:"var(--color-primary)"},children:"Go to Sign In"})]})]})]})}),e.jsxs("form",{onSubmit:R,className:"space-y-4 sm:space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Name"}),e.jsx("input",{id:"name",type:"text",value:m,onChange:r=>A(r.target.value),onBlur:()=>u("name"),placeholder:"John Doe",className:`w-full px-3 sm:px-4 py-2.5 sm:py-3 border ${o.name&&!m?"border-red-500 dark:border-red-400":"border-gray-300 dark:border-gray-600"} rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-400 dark:placeholder-gray-500 focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm sm:text-base`}),o.name&&!m&&e.jsx("p",{className:"mt-1 text-xs text-red-600 dark:text-red-400",children:"This field is required"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Email"}),e.jsx("input",{id:"email",type:"email",value:d,onChange:r=>{E(r.target.value),y(!1),t("")},onBlur:()=>u("email"),placeholder:"you@example.com",className:`w-full px-3 sm:px-4 py-2.5 sm:py-3 border ${o.email&&!d?"border-red-500 dark:border-red-400":"border-gray-300 dark:border-gray-600"} rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-400 dark:placeholder-gray-500 focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm sm:text-base`}),o.email&&!d&&e.jsx("p",{className:"mt-1 text-xs text-red-600 dark:text-red-400",children:"This field is required"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{id:"password",type:g?"text":"password",value:l,onChange:r=>L(r.target.value),onFocus:()=>v(!0),onBlur:()=>{u("password"),v(!1)},placeholder:"•••••••••••••",className:`w-full px-3 sm:px-4 py-2.5 sm:py-3 pr-10 sm:pr-12 border ${o.password&&!l?"border-red-500 dark:border-red-400":"border-gray-300 dark:border-gray-600"} rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-400 dark:placeholder-gray-500 focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm sm:text-base`}),e.jsx("button",{type:"button",onClick:()=>B(!g),className:"absolute right-2 sm:right-3 top-1/2 -translate-y-1/2 text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 focus:outline-none","aria-label":g?"Hide password":"Show password",children:g?e.jsx(P,{className:"w-4 h-4 sm:w-5 sm:h-5"}):e.jsx(C,{className:"w-4 h-4 sm:w-5 sm:h-5"})})]}),U&&e.jsxs("div",{className:"mt-3 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg shadow-lg p-4",children:[e.jsx("p",{className:"text-xs font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Password Requirements:"}),e.jsx("ul",{className:"space-y-1",children:(()=>{const r=D(l);return e.jsxs(e.Fragment,{children:[e.jsxs("li",{className:`text-xs flex items-center gap-2 ${r.minLength?"text-green-600 dark:text-green-400":"text-gray-600 dark:text-gray-400"}`,children:[e.jsx("span",{children:r.minLength?"✓":"○"})," At least 12 characters"]}),e.jsxs("li",{className:`text-xs flex items-center gap-2 ${r.lowerCase?"text-green-600 dark:text-green-400":"text-gray-600 dark:text-gray-400"}`,children:[e.jsx("span",{children:r.lowerCase?"✓":"○"})," Lower case letters (a-z)"]}),e.jsxs("li",{className:`text-xs flex items-center gap-2 ${r.upperCase?"text-green-600 dark:text-green-400":"text-gray-600 dark:text-gray-400"}`,children:[e.jsx("span",{children:r.upperCase?"✓":"○"})," Upper case letters (A-Z)"]}),e.jsxs("li",{className:`text-xs flex items-center gap-2 ${r.number?"text-green-600 dark:text-green-400":"text-gray-600 dark:text-gray-400"}`,children:[e.jsx("span",{children:r.number?"✓":"○"})," Numbers (0-9)"]})]})})()})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Confirm Password"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{id:"confirmPassword",type:h?"text":"password",value:x,onChange:r=>$(r.target.value),onBlur:()=>u("confirmPassword"),onPaste:r=>{r.preventDefault(),S.error("Please type your password confirmation manually")},onCopy:r=>r.preventDefault(),onCut:r=>r.preventDefault(),placeholder:"••••••••••",className:`w-full px-3 sm:px-4 py-2.5 sm:py-3 pr-10 sm:pr-12 border ${o.confirmPassword&&!x?"border-red-500 dark:border-red-400":"border-gray-300 dark:border-gray-600"} rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-400 dark:placeholder-gray-500 focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm sm:text-base`}),e.jsx("button",{type:"button",onClick:()=>q(!h),className:"absolute right-2 sm:right-3 top-1/2 -translate-y-1/2 text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 focus:outline-none","aria-label":h?"Hide password":"Show password",children:h?e.jsx(P,{className:"w-4 h-4 sm:w-5 sm:h-5"}):e.jsx(C,{className:"w-4 h-4 sm:w-5 sm:h-5"})})]}),o.confirmPassword&&!x&&e.jsx("p",{className:"mt-1 text-xs text-red-600 dark:text-red-400",children:"This field is required"})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("input",{id:"terms",type:"checkbox",checked:k,onChange:r=>F(r.target.checked),className:"mt-1 w-4 h-4 border-gray-300 dark:border-gray-600 rounded",style:{accentColor:"var(--color-primary)"}}),e.jsxs("label",{htmlFor:"terms",className:"ml-2 text-sm text-gray-700 dark:text-gray-300",children:["I agree to the"," ",e.jsx("a",{href:"#",className:"font-medium transition-opacity hover:opacity-80",style:{color:"var(--color-primary)"},children:"Terms of Use"})," ","and"," ",e.jsx("a",{href:"#",className:"font-medium transition-opacity hover:opacity-80",style:{color:"var(--color-primary)"},children:"Privacy Policy"})]})]}),e.jsx("button",{type:"submit",disabled:p,className:"w-full flex items-center justify-center gap-2 text-white py-2.5 sm:py-3 rounded-lg font-medium disabled:bg-gray-400 transition-opacity hover:opacity-90 text-sm sm:text-base min-h-[44px]",style:{backgroundColor:p?void 0:"var(--color-primary)"},children:p?e.jsxs(e.Fragment,{children:[e.jsx(O,{})," Creating account..."]}):"Sign up"})]}),e.jsx("div",{className:"mt-4 sm:mt-6 text-center",children:e.jsxs("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:["Already have an account?"," ",e.jsx(N,{to:"/login",className:"font-medium transition-opacity hover:opacity-80",style:{color:"var(--color-primary)"},children:"Sign in"})]})})]})]})})]})}export{V as default};
