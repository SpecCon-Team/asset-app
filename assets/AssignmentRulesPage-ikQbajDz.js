import{r as m,e as b,j as e,X as P,l as R,h as F,L,y as q,w as U,_ as B}from"./index-Pd9IxwbI.js";import{showSuccess as D,showError as I}from"./sweetalert-BCvQYi5m.js";import{P as E}from"./plus-CJ4X_UF3.js";import{a as O,P as z}from"./play-Ba1_tyId.js";import{S as W}from"./square-pen-F8ttwgqK.js";function H({rule:n,onSave:h,onCancel:g}){const[y,v]=m.useState(!1),[p,N]=m.useState([]),[a,o]=m.useState({name:(n==null?void 0:n.name)||"",description:(n==null?void 0:n.description)||"",assignmentType:(n==null?void 0:n.assignmentType)||"round_robin",priority:(n==null?void 0:n.priority)||0,isActive:(n==null?void 0:n.isActive)??!0,conditions:(n==null?void 0:n.conditions)||[],targetUsers:(n==null?void 0:n.targetUsers)||[],requiredSkills:(n==null?void 0:n.requiredSkills)||[],location:(n==null?void 0:n.location)||""});m.useEffect(()=>{u()},[]);const u=async()=>{try{const i=await(await fetch(`${b()}/users`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})).json(),l=Array.isArray(i)?i:i.users||[];N(l.filter(c=>c.role==="TECHNICIAN"))}catch(t){console.error("Failed to fetch users:",t),N([])}},k=async t=>{t.preventDefault(),v(!0);try{await h(a),D(n?"Assignment rule updated successfully":"Assignment rule created successfully","Success!")}catch(i){console.error("Failed to save assignment rule:",i),I("Failed to save assignment rule. Please try again.")}finally{v(!1)}},w=()=>{o({...a,conditions:[...a.conditions,{field:"",operator:"equals",value:""}]})},f=t=>{o({...a,conditions:a.conditions.filter((i,l)=>l!==t)})},j=(t,i,l)=>{const c=[...a.conditions];c[t]={...c[t],[i]:l},o({...a,conditions:c})},S=t=>{const i=a.targetUsers.includes(t)?a.targetUsers.filter(l=>l!==t):[...a.targetUsers,t];o({...a,targetUsers:i})},C=()=>{o({...a,requiredSkills:[...a.requiredSkills,""]})},A=t=>{o({...a,requiredSkills:a.requiredSkills.filter((i,l)=>l!==t)})},T=(t,i)=>{const l=[...a.requiredSkills];l[t]=i,o({...a,requiredSkills:l})},s=t=>({round_robin:"Round Robin",least_busy:"Least Busy",skill_based:"Skill-Based",location_based:"Location-Based",specific_user:"Specific User"})[t]||t,r=a.assignmentType==="skill_based",d=a.assignmentType==="location_based",x=a.assignmentType==="specific_user"||a.assignmentType==="round_robin";return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:e.jsxs("form",{onSubmit:k,children:[e.jsxs("div",{className:"sticky top-0 bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 p-6 flex items-center justify-between",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:n?"Edit Assignment Rule":"Create Assignment Rule"}),e.jsx("button",{type:"button",onClick:g,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg",children:e.jsx(P,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Rule Name *"}),e.jsx("input",{type:"text",required:!0,value:a.name,onChange:t=>o({...a,name:t.target.value}),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white",placeholder:"e.g., Distribute tickets evenly"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Description"}),e.jsx("textarea",{value:a.description,onChange:t=>o({...a,description:t.target.value}),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white",rows:3,placeholder:"Describe what this rule does..."})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Assignment Type *"}),e.jsxs("select",{required:!0,value:a.assignmentType,onChange:t=>o({...a,assignmentType:t.target.value}),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white",children:[e.jsx("option",{value:"round_robin",children:"Round Robin"}),e.jsx("option",{value:"least_busy",children:"Least Busy"}),e.jsx("option",{value:"skill_based",children:"Skill-Based"}),e.jsx("option",{value:"location_based",children:"Location-Based"}),e.jsx("option",{value:"specific_user",children:"Specific User"})]}),e.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:s(a.assignmentType)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Priority"}),e.jsx("input",{type:"number",value:a.priority,onChange:t=>o({...a,priority:parseInt(t.target.value)}),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white",placeholder:"0-1000 (higher runs first)"})]})]}),e.jsx("div",{className:"flex items-center",children:e.jsxs("label",{className:"flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:a.isActive,onChange:t=>o({...a,isActive:t.target.checked}),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("span",{className:"ml-2 text-sm font-medium text-gray-700 dark:text-gray-300",children:"Active"})]})})]}),e.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Conditions"}),e.jsxs("button",{type:"button",onClick:w,className:"flex items-center gap-2 px-3 py-1.5 text-sm bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:[e.jsx(E,{className:"w-4 h-4"}),"Add Condition"]})]}),a.conditions.length===0?e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 text-center py-4",children:"No conditions - rule will apply to all tickets"}):e.jsx("div",{className:"space-y-3",children:a.conditions.map((t,i)=>e.jsxs("div",{className:"flex items-center gap-2 p-3 bg-gray-50 dark:bg-gray-750 rounded-lg",children:[e.jsx("input",{type:"text",value:t.field,onChange:l=>j(i,"field",l.target.value),placeholder:"Field (e.g., priority)",className:"flex-1 px-3 py-2 text-sm border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white"}),e.jsxs("select",{value:t.operator,onChange:l=>j(i,"operator",l.target.value),className:"px-3 py-2 text-sm border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white",children:[e.jsx("option",{value:"equals",children:"Equals"}),e.jsx("option",{value:"not_equals",children:"Not Equals"}),e.jsx("option",{value:"contains",children:"Contains"}),e.jsx("option",{value:"not_contains",children:"Not Contains"})]}),e.jsx("input",{type:"text",value:t.value,onChange:l=>j(i,"value",l.target.value),placeholder:"Value (e.g., critical)",className:"flex-1 px-3 py-2 text-sm border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white"}),e.jsx("button",{type:"button",onClick:()=>f(i),className:"p-2 text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg",children:e.jsx(R,{className:"w-4 h-4"})})]},i))})]}),e.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Assignment Configuration"}),x&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Target Technicians *"}),p.length===0?e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 text-center py-4",children:"No technicians available"}):e.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto border border-gray-300 dark:border-gray-600 rounded-lg p-3",children:p.map(t=>e.jsxs("label",{className:"flex items-center cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-750 p-2 rounded",children:[e.jsx("input",{type:"checkbox",checked:a.targetUsers.includes(t.id),onChange:()=>S(t.id),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsxs("span",{className:"ml-2 text-sm text-gray-700 dark:text-gray-300",children:[t.fullName," (",t.email,")"]})]},t.id))}),x&&a.targetUsers.length===0&&e.jsx("p",{className:"mt-2 text-sm text-red-600 dark:text-red-400",children:"Please select at least one technician"})]}),r&&e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Required Skills *"}),e.jsxs("button",{type:"button",onClick:C,className:"flex items-center gap-1 px-2 py-1 text-xs bg-blue-600 text-white rounded hover:bg-blue-700",children:[e.jsx(E,{className:"w-3 h-3"}),"Add Skill"]})]}),a.requiredSkills.length===0?e.jsx("p",{className:"text-sm text-red-600 dark:text-red-400 text-center py-4",children:"At least one skill is required for skill-based assignment"}):e.jsx("div",{className:"space-y-2",children:a.requiredSkills.map((t,i)=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"text",value:t,onChange:l=>T(i,l.target.value),placeholder:"e.g., Network, Hardware, Software",className:"flex-1 px-3 py-2 text-sm border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white"}),e.jsx("button",{type:"button",onClick:()=>A(i),className:"p-2 text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg",children:e.jsx(R,{className:"w-4 h-4"})})]},i))})]}),d&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Location *"}),e.jsx("input",{type:"text",required:d,value:a.location,onChange:t=>o({...a,location:t.target.value}),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white",placeholder:"e.g., Johannesburg, Cape Town"})]}),!x&&!r&&!d&&e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 text-center py-4",children:a.assignmentType==="least_busy"?"Automatically assigns to the technician with the fewest open tickets":"No additional configuration needed for this assignment type"})]})]}),e.jsxs("div",{className:"sticky bottom-0 bg-white dark:bg-gray-800 border-t border-gray-200 dark:border-gray-700 p-6 flex items-center justify-end gap-3",children:[e.jsx("button",{type:"button",onClick:g,className:"px-4 py-2 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg",disabled:y,children:"Cancel"}),e.jsx("button",{type:"submit",disabled:y||x&&a.targetUsers.length===0||r&&a.requiredSkills.length===0,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:y?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("div",{className:"w-2 h-2 bg-white rounded-full animate-bounce",style:{animationDelay:"0ms"}}),e.jsx("div",{className:"w-2 h-2 bg-white rounded-full animate-bounce",style:{animationDelay:"150ms"}}),e.jsx("div",{className:"w-2 h-2 bg-white rounded-full animate-bounce",style:{animationDelay:"300ms"}})]}),e.jsx("span",{className:"sr-only",children:"Saving"})]}):n?"Update Rule":"Create Rule"})]})]})})})}function G(){const[n,h]=m.useState([]),[g,y]=m.useState(null),[v,p]=m.useState(!0),N=F(v,2e3),[a,o]=m.useState(!1),[u,k]=m.useState(null);m.useEffect(()=>{w(),f()},[]);const w=async()=>{var s;try{const r=await fetch(`${b()}/workflows/assignment-rules`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok)throw new Error(`HTTP error! status: ${r.status}`);const d=await r.json();h(d)}catch(r){if((s=r==null?void 0:r.message)!=null&&s.includes("Failed to fetch")||(r==null?void 0:r.code)==="ERR_NETWORK"){h([]),p(!1);return}console.error("Failed to fetch assignment rules:",r)}finally{p(!1)}},f=async()=>{var s;try{const r=await fetch(`${b()}/workflows/assignment-stats`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!r.ok)throw new Error(`HTTP error! status: ${r.status}`);const d=await r.json();y(d)}catch(r){if((s=r==null?void 0:r.message)!=null&&s.includes("Failed to fetch")||(r==null?void 0:r.code)==="ERR_NETWORK")return;console.error("Failed to fetch assignment stats:",r)}},j=async s=>{var r;try{const d=await fetch(`${b()}/workflows/assignment-rules/${s}/toggle`,{method:"PATCH",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!d.ok)throw new Error("Failed to toggle rule");const x=await d.json();h(n.map(t=>t.id===s?x:t))}catch(d){if((r=d==null?void 0:d.message)!=null&&r.includes("Failed to fetch")||(d==null?void 0:d.code)==="ERR_NETWORK")return;console.error("Failed to toggle rule:",d)}},S=async s=>{var l;const r=n.find(c=>c.id===s),{showDeleteConfirm:d,showSuccess:x,showError:t}=await B(async()=>{const{showDeleteConfirm:c,showSuccess:_,showError:$}=await import("./sweetalert-BCvQYi5m.js");return{showDeleteConfirm:c,showSuccess:_,showError:$}},[]);if((await d((r==null?void 0:r.name)||"this assignment rule","This assignment rule will be permanently deleted and cannot be recovered.")).isConfirmed)try{if(!(await fetch(`${b()}/workflows/assignment-rules/${s}`,{method:"DELETE",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})).ok)throw new Error("Failed to delete rule");h(n.filter(_=>_.id!==s)),f(),x("Assignment rule deleted successfully")}catch(c){if((l=c==null?void 0:c.message)!=null&&l.includes("Failed to fetch")||(c==null?void 0:c.code)==="ERR_NETWORK"){t("Cannot connect to server. Please ensure the backend is running.");return}console.error("Failed to delete rule:",c),t("Failed to delete assignment rule. Please try again.")}},C=async s=>{const r=u?`${b()}/workflows/assignment-rules/${u.id}`:`${b()}/workflows/assignment-rules`,x=await fetch(r,{method:u?"PUT":"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(s)});if(!x.ok){const i=await x.json().catch(()=>({message:"Unknown error"}));throw console.error("Failed to save assignment rule:",i),new Error(i.message||"Failed to save assignment rule")}const t=await x.json();h(u?n.map(i=>i.id===t.id?t:i):[...n,t]),o(!1),k(null),f()},A=s=>({round_robin:"Round Robin",least_busy:"Least Busy",skill_based:"Skill-Based",location_based:"Location-Based",specific_user:"Specific User"})[s]||s,T=s=>{const r={round_robin:"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-400",least_busy:"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400",skill_based:"bg-purple-100 text-purple-800 dark:bg-purple-900/30 dark:text-purple-400",location_based:"bg-orange-100 text-orange-800 dark:bg-orange-900/30 dark:text-orange-400",specific_user:"bg-pink-100 text-pink-800 dark:bg-pink-900/30 dark:text-pink-400"};return r[s]||r.least_busy};return N?e.jsx(L,{message:"Loading assignment rules..."}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Auto-Assignment Rules"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:"Configure intelligent ticket assignment strategies"})]}),e.jsxs("button",{onClick:()=>o(!0),className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:[e.jsx(E,{className:"w-4 h-4"}),"Create Rule"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Active Rules"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:(g==null?void 0:g.activeRules)||0})]}),e.jsx(q,{className:"w-8 h-8 text-blue-600"})]})}),e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Available Technicians"}),e.jsx("p",{className:"text-2xl font-bold text-green-600",children:(g==null?void 0:g.availableTechnicians)||0})]}),e.jsx(U,{className:"w-8 h-8 text-green-600"})]})}),e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Total Rules"}),e.jsx("p",{className:"text-2xl font-bold text-purple-600",children:n.length})]}),e.jsx(q,{className:"w-8 h-8 text-purple-600"})]})})]}),g&&g.technicianWorkload.length>0&&e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Technician Workload"}),e.jsx("div",{className:"space-y-3",children:g.technicianWorkload.map(s=>e.jsx("div",{className:"flex items-center gap-4",children:e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:s.name||s.email}),e.jsx("span",{className:`px-2 py-0.5 text-xs font-medium rounded-full ${s.isAvailable?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400":"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-400"}`,children:s.isAvailable?"Available":"Unavailable"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"flex-1 bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:e.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all",style:{width:`${Math.min(s.activeTickets/10*100,100)}%`}})}),e.jsxs("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:[s.activeTickets," tickets"]})]})]})},s.id))})]}),e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow",children:n.length===0?e.jsxs("div",{className:"p-12 text-center",children:[e.jsx(U,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"No assignment rules yet"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-4",children:"Create rules to automatically assign tickets to technicians"}),e.jsx("button",{onClick:()=>o(!0),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Create Rule"})]}):e.jsx("div",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:n.map(s=>e.jsx("div",{className:"p-6 hover:bg-gray-50 dark:hover:bg-gray-750 transition-colors",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:s.name}),e.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${s.isActive?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400":"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-400"}`,children:s.isActive?"Active":"Paused"}),e.jsxs("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-400",children:["Priority: ",s.priority]}),e.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${T(s.assignmentType)}`,children:A(s.assignmentType)})]}),s.description&&e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-3",children:s.description}),e.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-500 dark:text-gray-400",children:[s.conditions&&Object.keys(s.conditions).length>0&&e.jsxs("span",{children:[e.jsx("strong",{children:"Conditions:"})," ",Object.keys(s.conditions).length]}),s.targetUserIds&&s.targetUserIds.length>0&&e.jsxs("span",{children:[e.jsx("strong",{children:"Technicians:"})," ",s.targetUserIds.length]})]})]}),e.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[e.jsx("button",{onClick:()=>j(s.id),className:`p-2 rounded-lg transition-colors ${s.isActive?"text-green-600 hover:bg-green-50 dark:hover:bg-green-900/20":"text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700"}`,title:s.isActive?"Pause rule":"Activate rule",children:s.isActive?e.jsx(O,{className:"w-5 h-5"}):e.jsx(z,{className:"w-5 h-5"})}),e.jsx("button",{onClick:()=>{k(s),o(!0)},className:"p-2 text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-lg",title:"Edit rule",children:e.jsx(W,{className:"w-5 h-5"})}),e.jsx("button",{onClick:()=>S(s.id),className:"p-2 text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg",title:"Delete rule",children:e.jsx(R,{className:"w-5 h-5"})})]})]})},s.id))})}),a&&e.jsx(H,{rule:u,onSave:C,onCancel:()=>{o(!1),k(null)}})]})}export{G as default};
