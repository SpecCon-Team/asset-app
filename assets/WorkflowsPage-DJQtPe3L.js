import{j as e}from"./vendor-charts-DVp8BQgJ.js";import{r as x}from"./vendor-react-CFQdvhEG.js";import{showSuccess as F,showError as k,showDeleteConfirm as D}from"./sweetalert-DcBwdyhg.js";import{X as L,aj as S,T as W,E as T,I as _,J as P,aI as $}from"./vendor-ui-Bhgb65c8.js";import{u as I,g as j,L as R}from"./index-D9yjAaPu.js";function q({workflow:r,onSave:c,onCancel:v}){const[m,f]=x.useState(!1),[l,o]=x.useState({name:(r==null?void 0:r.name)||"",description:(r==null?void 0:r.description)||"",entityType:(r==null?void 0:r.entityType)||"ticket",trigger:(r==null?void 0:r.trigger)||"created",priority:(r==null?void 0:r.priority)||0,isActive:(r==null?void 0:r.isActive)??!0,conditions:(r==null?void 0:r.conditions)||[],actions:(r==null?void 0:r.actions)||[]}),h=async s=>{s.preventDefault(),f(!0);try{await c(l),F(r?"Workflow updated successfully":"Workflow created successfully","Success!")}catch(d){console.error("Failed to save workflow:",d),k("Failed to save workflow. Please try again.")}finally{f(!1)}},p=()=>{o({...l,conditions:[...l.conditions,{field:"",operator:"equals",value:""}]})},N=s=>{o({...l,conditions:l.conditions.filter((d,t)=>t!==s)})},y=(s,d,t)=>{const a=[...l.conditions];a[s]={...a[s],[d]:t},o({...l,conditions:a})},w=()=>{o({...l,actions:[...l.actions,{type:"add_comment",params:{}}]})},C=s=>{o({...l,actions:l.actions.filter((d,t)=>t!==s)})},A=(s,d,t)=>{const a=[...l.actions];a[s]={...a[s],[d]:t},o({...l,actions:a})},g=(s,d,t)=>{const a=[...l.actions];a[s]={...a[s],params:{...a[s].params,[d]:t}},o({...l,actions:a})};return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:e.jsxs("form",{onSubmit:h,children:[e.jsxs("div",{className:"sticky top-0 bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 p-6 flex items-center justify-between",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:r?"Edit Workflow":"Create Workflow"}),e.jsx("button",{type:"button",onClick:v,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg",children:e.jsx(L,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Workflow Name *"}),e.jsx("input",{type:"text",required:!0,value:l.name,onChange:s=>o({...l,name:s.target.value}),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white",placeholder:"e.g., Auto-escalate critical tickets"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Description"}),e.jsx("textarea",{value:l.description,onChange:s=>o({...l,description:s.target.value}),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white",rows:3,placeholder:"Describe what this workflow does..."})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Entity Type *"}),e.jsxs("select",{required:!0,value:l.entityType,onChange:s=>o({...l,entityType:s.target.value}),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white",children:[e.jsx("option",{value:"ticket",children:"Ticket"}),e.jsx("option",{value:"asset",children:"Asset"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Trigger *"}),e.jsxs("select",{required:!0,value:l.trigger,onChange:s=>o({...l,trigger:s.target.value}),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white",children:[e.jsx("option",{value:"created",children:"Created"}),e.jsx("option",{value:"status_changed",children:"Status Changed"}),e.jsx("option",{value:"assigned",children:"Assigned"}),e.jsx("option",{value:"priority_changed",children:"Priority Changed"}),e.jsx("option",{value:"updated",children:"Updated"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Priority"}),e.jsx("input",{type:"number",value:l.priority,onChange:s=>o({...l,priority:s.target.value===""?0:parseInt(s.target.value)}),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white",placeholder:"0-1000 (higher runs first)"})]}),e.jsx("div",{className:"flex items-center",children:e.jsxs("label",{className:"flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:l.isActive,onChange:s=>o({...l,isActive:s.target.checked}),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("span",{className:"ml-2 text-sm font-medium text-gray-700 dark:text-gray-300",children:"Active"})]})})]})]}),e.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Conditions"}),e.jsxs("button",{type:"button",onClick:p,className:"flex items-center gap-2 px-3 py-1.5 text-sm bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:[e.jsx(S,{className:"w-4 h-4"}),"Add Condition"]})]}),l.conditions.length===0?e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 text-center py-4",children:"No conditions - workflow will always execute"}):e.jsx("div",{className:"space-y-3",children:l.conditions.map((s,d)=>e.jsxs("div",{className:"flex items-center gap-2 p-3 bg-gray-50 dark:bg-gray-750 rounded-lg",children:[e.jsx("input",{type:"text",value:s.field,onChange:t=>y(d,"field",t.target.value),placeholder:"Field (e.g., priority)",className:"flex-1 px-3 py-2 text-sm border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white"}),e.jsxs("select",{value:s.operator,onChange:t=>y(d,"operator",t.target.value),className:"px-3 py-2 text-sm border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white",children:[e.jsx("option",{value:"equals",children:"Equals"}),e.jsx("option",{value:"not_equals",children:"Not Equals"}),e.jsx("option",{value:"contains",children:"Contains"}),e.jsx("option",{value:"not_contains",children:"Not Contains"}),e.jsx("option",{value:"greater_than",children:"Greater Than"}),e.jsx("option",{value:"less_than",children:"Less Than"}),e.jsx("option",{value:"in",children:"In"}),e.jsx("option",{value:"not_in",children:"Not In"})]}),e.jsx("input",{type:"text",value:s.value,onChange:t=>y(d,"value",t.target.value),placeholder:"Value (e.g., critical)",className:"flex-1 px-3 py-2 text-sm border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white"}),e.jsx("button",{type:"button",onClick:()=>N(d),className:"p-2 text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg",children:e.jsx(W,{className:"w-4 h-4"})})]},d))})]}),e.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Actions *"}),e.jsxs("button",{type:"button",onClick:w,className:"flex items-center gap-2 px-3 py-1.5 text-sm bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:[e.jsx(S,{className:"w-4 h-4"}),"Add Action"]})]}),l.actions.length===0?e.jsx("p",{className:"text-sm text-red-600 dark:text-red-400 text-center py-4",children:"At least one action is required"}):e.jsx("div",{className:"space-y-4",children:l.actions.map((s,d)=>e.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-gray-750 rounded-lg space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("select",{value:s.type,onChange:t=>A(d,"type",t.target.value),className:"flex-1 px-3 py-2 text-sm border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white",children:[e.jsx("option",{value:"assign",children:"Assign to User"}),e.jsx("option",{value:"change_status",children:"Change Status"}),e.jsx("option",{value:"change_priority",children:"Change Priority"}),e.jsx("option",{value:"add_comment",children:"Add Comment"}),e.jsx("option",{value:"send_notification",children:"Send Notification"}),e.jsx("option",{value:"send_whatsapp",children:"Send WhatsApp"})]}),e.jsx("button",{type:"button",onClick:()=>C(d),className:"p-2 text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg",children:e.jsx(W,{className:"w-4 h-4"})})]}),s.type==="assign"&&e.jsx("input",{type:"text",value:s.params.userId||"",onChange:t=>g(d,"userId",t.target.value),placeholder:"User ID",className:"w-full px-3 py-2 text-sm border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white"}),s.type==="change_status"&&e.jsx("input",{type:"text",value:s.params.status||"",onChange:t=>g(d,"status",t.target.value),placeholder:"Status (e.g., in_progress)",className:"w-full px-3 py-2 text-sm border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white"}),s.type==="change_priority"&&e.jsx("input",{type:"text",value:s.params.priority||"",onChange:t=>g(d,"priority",t.target.value),placeholder:"Priority (e.g., critical)",className:"w-full px-3 py-2 text-sm border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white"}),s.type==="add_comment"&&e.jsx("textarea",{value:s.params.comment||"",onChange:t=>g(d,"comment",t.target.value),placeholder:"Comment text...",className:"w-full px-3 py-2 text-sm border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white",rows:2}),(s.type==="send_notification"||s.type==="send_whatsapp")&&e.jsxs(e.Fragment,{children:[e.jsx("textarea",{value:s.params.message||"",onChange:t=>g(d,"message",t.target.value),placeholder:"Message text...",className:"w-full px-3 py-2 text-sm border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white",rows:2}),e.jsx("input",{type:"text",value:(s.params.recipients||[]).join(", "),onChange:t=>g(d,"recipients",t.target.value.split(",").map(a=>a.trim())),placeholder:"Recipient User IDs (comma-separated)",className:"w-full px-3 py-2 text-sm border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white"})]})]},d))})]})]}),e.jsxs("div",{className:"sticky bottom-0 bg-white dark:bg-gray-800 border-t border-gray-200 dark:border-gray-700 p-6 flex items-center justify-end gap-3",children:[e.jsx("button",{type:"button",onClick:v,className:"px-4 py-2 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg",disabled:m,children:"Cancel"}),e.jsx("button",{type:"submit",disabled:m||l.actions.length===0,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:m?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("div",{className:"w-2 h-2 bg-white rounded-full animate-bounce",style:{animationDelay:"0ms"}}),e.jsx("div",{className:"w-2 h-2 bg-white rounded-full animate-bounce",style:{animationDelay:"150ms"}}),e.jsx("div",{className:"w-2 h-2 bg-white rounded-full animate-bounce",style:{animationDelay:"300ms"}})]}),e.jsx("span",{className:"sr-only",children:"Saving"})]}):r?"Update Workflow":"Create Workflow"})]})]})})})}function K(){const[r,c]=x.useState([]),[v,m]=x.useState(!0),f=I(v,2e3),[l,o]=x.useState(!1),[h,p]=x.useState(null),[N,y]=x.useState(!1);x.useEffect(()=>{w()},[]);const w=async()=>{var t;try{const a=await fetch(`${j()}/workflows/templates`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(a.status===403){y(!0),m(!1);return}if(!a.ok)throw new Error(`HTTP error! status: ${a.status}`);const n=await a.json();Array.isArray(n)?c(n):(console.error("API returned non-array data:",n),c([]))}catch(a){if((t=a==null?void 0:a.message)!=null&&t.includes("Failed to fetch")||(a==null?void 0:a.code)==="ERR_NETWORK"){c([]),m(!1);return}console.error("Failed to fetch workflows:",a),c([])}finally{m(!1)}},C=async t=>{var a;try{const n=await fetch(`${j()}/workflows/templates/${t}/toggle`,{method:"PATCH",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(!n.ok)throw new Error("Failed to toggle workflow");const u=await n.json();c(r.map(i=>i.id===t?u:i))}catch(n){if((a=n==null?void 0:n.message)!=null&&a.includes("Failed to fetch")||(n==null?void 0:n.code)==="ERR_NETWORK")return;console.error("Failed to toggle workflow:",n)}},A=async t=>{var u;const a=r.find(i=>i.id===t);if((await D((a==null?void 0:a.name)||"this workflow","This workflow will be permanently deleted and cannot be recovered.")).isConfirmed)try{if(!(await fetch(`${j()}/workflows/templates/${t}`,{method:"DELETE",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})).ok)throw new Error("Failed to delete workflow");c(r.filter(b=>b.id!==t)),F("Workflow deleted successfully")}catch(i){if((u=i==null?void 0:i.message)!=null&&u.includes("Failed to fetch")||(i==null?void 0:i.code)==="ERR_NETWORK"){k("Cannot connect to server. Please ensure the backend is running.");return}console.error("Failed to delete workflow:",i),k("Failed to delete workflow. Please try again.")}},g=async t=>{var u;const a=h?`${j()}/workflows/templates/${h.id}`:`${j()}/workflows/templates`,n=h?"PUT":"POST";try{const i=await fetch(a,{method:n,headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify(t)});if(!i.ok)throw new Error("Failed to save workflow");const b=await i.json();c(h?r.map(E=>E.id===b.id?b:E):[...r,b]),o(!1),p(null)}catch(i){if((u=i==null?void 0:i.message)!=null&&u.includes("Failed to fetch")||(i==null?void 0:i.code)==="ERR_NETWORK"){k("Cannot connect to server. Please ensure the backend is running.");return}throw i}},s=t=>({created:"Created",status_changed:"Status Changed",assigned:"Assigned",priority_changed:"Priority Changed",updated:"Updated"})[t]||t,d=t=>t==="ticket"?"Ticket":"Asset";return f?e.jsx(R,{message:"Loading workflows..."}):N?e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-8 text-center",children:[e.jsx("div",{className:"mb-4",children:e.jsx("svg",{className:"w-16 h-16 text-red-500 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:"Access Denied"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"You don't have permission to access workflow automation features."}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-500",children:"Only administrators can view and manage workflows. Please contact your system administrator if you need access."})]})}):e.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900 dark:text-white",children:"Workflow Automation"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:"Automate actions when certain events occur"})]}),e.jsxs("button",{onClick:()=>o(!0),className:"w-full sm:w-auto flex items-center justify-center gap-2 px-3 sm:px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 text-sm sm:text-base min-h-[44px]",children:[e.jsx(S,{className:"w-4 h-4"}),"Create Workflow"]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-4",children:[e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-4 sm:p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Total Workflows"}),e.jsx("p",{className:"text-xl sm:text-2xl font-bold text-gray-900 dark:text-white",children:r.length})]}),e.jsx(T,{className:"w-6 h-6 sm:w-8 sm:h-8 text-blue-600"})]})}),e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-4 sm:p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Active"}),e.jsx("p",{className:"text-xl sm:text-2xl font-bold text-green-600",children:r.filter(t=>t.isActive).length})]}),e.jsx(_,{className:"w-8 h-8 text-green-600"})]})}),e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Paused"}),e.jsx("p",{className:"text-2xl font-bold text-gray-600",children:r.filter(t=>!t.isActive).length})]}),e.jsx(P,{className:"w-8 h-8 text-gray-600"})]})}),e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Ticket Workflows"}),e.jsx("p",{className:"text-2xl font-bold text-purple-600",children:r.filter(t=>t.entityType==="ticket").length})]}),e.jsx(T,{className:"w-8 h-8 text-purple-600"})]})})]}),e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow",children:r.length===0?e.jsxs("div",{className:"p-12 text-center",children:[e.jsx(T,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"No workflows yet"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-4",children:"Create your first workflow to start automating tasks"}),e.jsx("button",{onClick:()=>o(!0),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Create Workflow"})]}):e.jsx("div",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:r.map(t=>{var a,n;return e.jsx("div",{className:"p-4 sm:p-6 hover:bg-gray-50 dark:hover:bg-gray-750 transition-colors",children:e.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-start sm:justify-between",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2 sm:gap-3 mb-2 sm:mb-3",children:[e.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-900 dark:text-white truncate",children:t.name}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 sm:gap-3",children:[e.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${t.isActive?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400":"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-400"}`,children:t.isActive?"Active":"Paused"}),e.jsxs("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-400 whitespace-nowrap",children:["Priority: ",t.priority]})]})]}),t.description&&e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2 sm:mb-3",children:t.description}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2 sm:gap-4 text-xs sm:text-sm",children:[e.jsxs("div",{className:"text-gray-500 dark:text-gray-400",children:[e.jsx("strong",{children:"Type:"})," ",d(t.entityType)]}),e.jsxs("div",{className:"text-gray-500 dark:text-gray-400",children:[e.jsx("strong",{children:"Trigger:"})," ",s(t.trigger)]}),e.jsxs("div",{className:"text-gray-500 dark:text-gray-400",children:[e.jsx("strong",{children:"Conditions:"})," ",((a=t.conditions)==null?void 0:a.length)||0]}),e.jsxs("div",{className:"text-gray-500 dark:text-gray-400",children:[e.jsx("strong",{children:"Actions:"})," ",((n=t.actions)==null?void 0:n.length)||0]})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 sm:ml-4",children:[e.jsx("button",{onClick:()=>C(t.id),className:`w-full sm:w-auto p-2 rounded-lg transition-colors text-sm sm:text-base ${t.isActive?"text-green-600 hover:bg-green-50 dark:hover:bg-green-900/20":"text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700"}`,title:t.isActive?"Pause workflow":"Activate workflow",children:t.isActive?e.jsx(P,{className:"w-4 h-4 sm:w-5 sm:h-5"}):e.jsx(_,{className:"w-4 h-4 sm:w-5 sm:h-5"})}),e.jsx("button",{onClick:()=>{p(t),o(!0)},className:"w-full sm:w-auto p-2 text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-lg text-sm sm:text-base",title:"Edit workflow",children:e.jsx($,{className:"w-4 h-4 sm:w-5 sm:h-5"})}),e.jsx("button",{onClick:()=>A(t.id),className:"w-full sm:w-auto p-2 text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg text-sm sm:text-base",title:"Delete workflow",children:e.jsx(W,{className:"w-4 h-4 sm:w-5 sm:h-5"})})]})]})},t.id)})})}),l&&e.jsx(q,{workflow:h,onSave:g,onCancel:()=>{o(!1),p(null)}})]})}export{K as default};
