import{c as A,R as f,j as e,n as R,r as j,X as T,z as w}from"./index-DWcQtK6o.js";import{L as E}from"./loader-circle-BQC1GNVn.js";import{C as S}from"./circle-alert-D0rFpNlM.js";import{C as $}from"./circle-check-big-BqhXBJMj.js";import{F as M}from"./file-spreadsheet-ZzBolB4A.js";/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _=A("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),P=f.forwardRef(({variant:r="primary",size:a="md",isLoading:t=!1,fullWidth:l=!1,leftIcon:c,rightIcon:d,children:i,className:s="",disabled:u,type:b="button",...m},y)=>{const n="inline-flex items-center justify-center font-medium rounded-lg transition-all duration-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 dark:focus-visible:ring-offset-gray-900 disabled:opacity-50 disabled:cursor-not-allowed disabled:pointer-events-none active:scale-95 hover:shadow-md transform hover:-translate-y-0.5 ",g={primary:"text-white shadow-sm focus-visible:ring-2 theme-primary-button",secondary:"bg-gray-200 hover:bg-gray-300 active:bg-gray-400 text-gray-900 shadow-sm dark:bg-gray-700 dark:hover:bg-gray-600 dark:active:bg-gray-500 dark:text-gray-100 focus-visible:ring-gray-500",danger:"bg-red-600 hover:bg-red-700 active:bg-red-800 text-white shadow-sm dark:bg-red-500 dark:hover:bg-red-600 dark:active:bg-red-700 focus-visible:ring-red-500",success:"bg-green-600 hover:bg-green-700 active:bg-green-800 text-white shadow-sm dark:bg-green-500 dark:hover:bg-green-600 dark:active:bg-green-700 focus-visible:ring-green-500",ghost:"border border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-800 active:bg-gray-100 dark:active:bg-gray-700 text-gray-700 dark:text-gray-300 focus-visible:ring-gray-500"},p={xs:"px-2.5 py-1 text-xs gap-1",sm:"px-3 py-1.5 text-sm gap-1.5",md:"px-4 py-2 text-base gap-2",lg:"px-6 py-3 text-lg gap-2.5"},v=l?"w-full":"",k={xs:"w-3 h-3",sm:"w-4 h-4",md:"w-4 h-4",lg:"w-5 h-5"},h=`${n} ${g[r]} ${p[a]} ${v} ${s}`.trim();return e.jsxs("button",{ref:y,type:b,disabled:u||t,className:h,...m,children:[t&&e.jsx(E,{className:`${k[a]} animate-spin`,"aria-hidden":"true"}),!t&&c&&e.jsx("span",{className:k[a],"aria-hidden":"true",children:c}),i,!t&&d&&e.jsx("span",{className:k[a],"aria-hidden":"true",children:d})]})});P.displayName="Button";const B=f.forwardRef(({children:r,className:a="",hoverable:t=!1,clickable:l=!1,...c},d)=>{const i=t?"hover:shadow-md transition-shadow duration-200":"",s=l?"cursor-pointer hover:border-gray-300 dark:hover:border-gray-600":"";return e.jsx("div",{ref:d,className:`bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 ${i} ${s} ${a}`.trim(),...c,children:r})});B.displayName="Card";const F=f.forwardRef(({children:r,className:a="",...t},l)=>e.jsx("div",{ref:l,className:`px-6 py-4 border-b border-gray-200 dark:border-gray-700 ${a}`.trim(),...t,children:r}));F.displayName="CardHeader";const O=f.forwardRef(({children:r,className:a="",padded:t=!0,...l},c)=>{const d=t?"p-6":"";return e.jsx("div",{ref:c,className:`${d} ${a}`.trim(),...l,children:r})});O.displayName="CardBody";const U=f.forwardRef(({children:r,className:a="",...t},l)=>e.jsx("div",{ref:l,className:`px-6 py-4 bg-gray-50 dark:bg-gray-900 border-t border-gray-200 dark:border-gray-700 rounded-b-lg ${a}`.trim(),...t,children:r}));U.displayName="CardFooter";const L=f.forwardRef(({children:r,className:a="",as:t="h2",...l},c)=>e.jsx(t,{ref:c,className:`text-xl font-semibold text-gray-900 dark:text-white ${a}`.trim(),...l,children:r}));L.displayName="CardTitle";const I=f.forwardRef(({children:r,className:a="",...t},l)=>e.jsx("p",{ref:l,className:`text-sm text-gray-600 dark:text-gray-400 ${a}`.trim(),...t,children:r}));I.displayName="CardDescription";const Y=f.forwardRef(({variant:r="neutral",size:a="md",rounded:t=!0,dot:l=!1,children:c,className:d="",style:i,...s},u)=>{const b="inline-flex items-center font-medium border transition-colors",m={success:"bg-green-100 dark:bg-green-900/50 text-green-800 dark:text-green-300 border-green-200 dark:border-green-700",warning:"bg-yellow-100 dark:bg-yellow-900/50 text-yellow-800 dark:text-yellow-300 border-yellow-200 dark:border-yellow-700",danger:"bg-red-100 dark:bg-red-900/50 text-red-800 dark:text-red-300 border-red-200 dark:border-red-700",info:"",purple:"bg-purple-100 dark:bg-purple-900/50 text-purple-800 dark:text-purple-300 border-purple-200 dark:border-purple-700",neutral:"bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-gray-300 border-gray-200 dark:border-gray-600"},y={sm:"px-2 py-0.5 text-xs gap-1",md:"px-2.5 py-0.5 text-xs gap-1.5",lg:"px-3 py-1 text-sm gap-2"},n=t?"rounded-full":"rounded",g={sm:"w-1.5 h-1.5",md:"w-2 h-2",lg:"w-2.5 h-2.5"},p=`${b} ${m[r]} ${y[a]} ${n} ${d}`.trim(),v=r==="info"?{backgroundColor:"rgba(var(--color-primary-rgb), 0.1)",color:"var(--color-primary)",borderColor:"rgba(var(--color-primary-rgb), 0.2)",...i}:i;return e.jsxs("span",{ref:u,className:p,style:v,...s,children:[l&&e.jsx("span",{className:`${g[a]} rounded-full bg-current opacity-75`,"aria-hidden":"true"}),c]})});Y.displayName="Badge";const V=f.forwardRef(({label:r,error:a,success:t,helperText:l,required:c,leftIcon:d,rightIcon:i,className:s="",containerClassName:u="",id:b,...m},y)=>{const n=b||`input-${Math.random().toString(36).substring(7)}`,g=!!a,p=!!t,C=`w-full rounded-lg border transition-colors bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 placeholder:text-gray-400 dark:placeholder:text-gray-500 focus:outline-none focus:ring-2 focus:ring-offset-0 disabled:opacity-50 disabled:cursor-not-allowed disabled:bg-gray-50 dark:disabled:bg-gray-900 ${g?"border-red-300 dark:border-red-700 focus:border-red-500 focus:ring-red-500":p?"border-green-300 dark:border-green-700 focus:border-green-500 focus:ring-green-500":"border-gray-300 dark:border-gray-600 focus:border-blue-500 focus:ring-blue-500"} ${d&&i?"pl-10 pr-10":d?"pl-10 pr-4":i?"pl-4 pr-10":"px-4"} py-2 ${s}`.trim();return e.jsxs("div",{className:`w-full ${u}`.trim(),children:[r&&e.jsxs("label",{htmlFor:n,className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1.5",children:[r,c&&e.jsx("span",{className:"text-red-500 dark:text-red-400 ml-1",children:"*"})]}),e.jsxs("div",{className:"relative",children:[d&&e.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 dark:text-gray-500",children:d}),e.jsx("input",{ref:y,id:n,className:C,"aria-invalid":g?"true":"false","aria-describedby":a?`${n}-error`:t?`${n}-success`:l?`${n}-helper`:void 0,...m}),(i||g||p)&&e.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2",children:g?e.jsx(S,{className:"w-5 h-5 text-red-500 dark:text-red-400","aria-hidden":"true"}):p?e.jsx($,{className:"w-5 h-5 text-green-500 dark:text-green-400","aria-hidden":"true"}):e.jsx("span",{className:"text-gray-400 dark:text-gray-500",children:i})})]}),a&&e.jsxs("p",{id:`${n}-error`,className:"mt-1.5 text-sm text-red-600 dark:text-red-400 flex items-center gap-1",role:"alert",children:[e.jsx(S,{className:"w-4 h-4 flex-shrink-0","aria-hidden":"true"}),a]}),t&&!a&&e.jsxs("p",{id:`${n}-success`,className:"mt-1.5 text-sm text-green-600 dark:text-green-400 flex items-center gap-1",children:[e.jsx($,{className:"w-4 h-4 flex-shrink-0","aria-hidden":"true"}),t]}),l&&!a&&!t&&e.jsx("p",{id:`${n}-helper`,className:"mt-1.5 text-sm text-gray-500 dark:text-gray-400",children:l})]})});V.displayName="Input";const q=f.forwardRef(({label:r,error:a,helperText:t,options:l=[],placeholder:c,required:d,className:i="",containerClassName:s="",id:u,children:b,...m},y)=>{const n=u||`select-${Math.random().toString(36).substring(7)}`,g=!!a,k=`w-full rounded-lg border transition-colors appearance-none bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 focus:outline-none focus:ring-2 focus:ring-offset-0 disabled:opacity-50 disabled:cursor-not-allowed disabled:bg-gray-50 dark:disabled:bg-gray-900 cursor-pointer ${g?"border-red-300 dark:border-red-700 focus:border-red-500 focus:ring-red-500":"border-gray-300 dark:border-gray-600 focus:border-blue-500 focus:ring-blue-500"} pl-4 pr-10 py-2 ${i}`.trim();return e.jsxs("div",{className:`w-full ${s}`.trim(),children:[r&&e.jsxs("label",{htmlFor:n,className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1.5",children:[r,d&&e.jsx("span",{className:"text-red-500 dark:text-red-400 ml-1",children:"*"})]}),e.jsxs("div",{className:"relative",children:[e.jsxs("select",{ref:y,id:n,className:k,"aria-invalid":g?"true":"false","aria-describedby":a?`${n}-error`:t?`${n}-helper`:void 0,...m,children:[c&&e.jsx("option",{value:"",disabled:!0,children:c}),l.map(h=>e.jsx("option",{value:h.value,disabled:h.disabled,children:h.label},h.value)),b]}),e.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none",children:g?e.jsx(S,{className:"w-5 h-5 text-red-500 dark:text-red-400","aria-hidden":"true"}):e.jsx(R,{className:"w-5 h-5 text-gray-400 dark:text-gray-500","aria-hidden":"true"})})]}),a&&e.jsxs("p",{id:`${n}-error`,className:"mt-1.5 text-sm text-red-600 dark:text-red-400 flex items-center gap-1",role:"alert",children:[e.jsx(S,{className:"w-4 h-4 flex-shrink-0","aria-hidden":"true"}),a]}),t&&!a&&e.jsx("p",{id:`${n}-helper`,className:"mt-1.5 text-sm text-gray-500 dark:text-gray-400",children:t})]})});q.displayName="Select";function G({isOpen:r,onClose:a,onImport:t,title:l,entityType:c}){const[d,i]=j.useState(null),[s,u]=j.useState(!1),[b,m]=j.useState(!1),[y,n]=j.useState(null),g=j.useRef(null);if(!r)return null;const p=o=>{o.preventDefault(),o.stopPropagation(),o.type==="dragenter"||o.type==="dragover"?m(!0):o.type==="dragleave"&&m(!1)},v=o=>{if(o.preventDefault(),o.stopPropagation(),m(!1),o.dataTransfer.files&&o.dataTransfer.files[0]){const N=o.dataTransfer.files[0];N.type==="text/csv"||N.name.endsWith(".csv")?(i(N),n(null)):w.error("Please upload a CSV file")}},k=o=>{if(o.target.files&&o.target.files[0]){const N=o.target.files[0];N.type==="text/csv"||N.name.endsWith(".csv")?(i(N),n(null)):w.error("Please upload a CSV file")}},h=async()=>{if(!d){w.error("Please select a file first");return}u(!0);try{const o=await t(d);n(o),w.success(o.message),setTimeout(()=>{i(null),n(null),a()},2e3)}catch(o){console.error("Import failed:",o),w.error(o.message||"Failed to import CSV file")}finally{u(!1)}},C=()=>{s||(i(null),n(null),a())};return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-lg w-full p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:l}),e.jsx("button",{onClick:C,disabled:s,className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 disabled:opacity-50",children:e.jsx(T,{className:"w-6 h-6"})})]}),e.jsx("div",{className:"mb-6 p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-200 dark:border-blue-800",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(S,{className:"w-5 h-5 text-blue-600 dark:text-blue-400 flex-shrink-0 mt-0.5"}),e.jsxs("div",{className:"text-sm text-blue-800 dark:text-blue-200",children:[e.jsx("p",{className:"font-semibold mb-1",children:"Before uploading:"}),e.jsxs("ol",{className:"list-decimal list-inside space-y-1",children:[e.jsx("li",{children:"Download the import template"}),e.jsx("li",{children:"Fill in your data following the example format"}),e.jsx("li",{children:"Save as CSV file"}),e.jsx("li",{children:"Upload the file below"})]})]})]})}),e.jsxs("div",{className:`mb-6 border-2 border-dashed rounded-lg p-8 text-center transition-colors ${b?"border-blue-500 bg-blue-50 dark:bg-blue-900/20":"border-gray-300 dark:border-gray-600"}`,onDragEnter:p,onDragLeave:p,onDragOver:p,onDrop:v,children:[e.jsx("input",{ref:g,type:"file",accept:".csv",onChange:k,className:"hidden"}),d?e.jsxs("div",{className:"flex flex-col items-center gap-3",children:[e.jsx(M,{className:"w-12 h-12 text-green-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900 dark:text-white",children:d.name}),e.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:[(d.size/1024).toFixed(2)," KB"]})]}),e.jsx("button",{onClick:()=>{i(null),n(null)},className:"text-sm text-red-600 hover:text-red-700 dark:text-red-400",children:"Remove file"})]}):e.jsxs("div",{className:"flex flex-col items-center gap-3",children:[e.jsx(_,{className:"w-12 h-12 text-gray-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900 dark:text-white mb-1",children:"Drop your CSV file here"}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-3",children:"or"}),e.jsx("button",{onClick:()=>{var o;return(o=g.current)==null?void 0:o.click()},className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Browse Files"})]})]})]}),y&&e.jsx("div",{className:"mb-6 p-4 bg-green-50 dark:bg-green-900/20 rounded-lg border border-green-200 dark:border-green-800",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx($,{className:"w-5 h-5 text-green-600 dark:text-green-400"}),e.jsxs("div",{className:"text-sm text-green-800 dark:text-green-200",children:[e.jsx("p",{className:"font-semibold",children:y.message}),e.jsxs("p",{children:["Imported ",y.count," of ",y.total," ",c]})]})]})}),e.jsxs("div",{className:"flex gap-3 justify-end",children:[e.jsx("button",{onClick:C,disabled:s,className:"px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 disabled:opacity-50 transition-colors",children:"Cancel"}),e.jsx("button",{onClick:h,disabled:!d||s,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-2",children:s?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),e.jsx("span",{children:"Importing..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(_,{className:"w-4 h-4"}),e.jsx("span",{children:"Import CSV"})]})})]})]})})}function J(r,a,t){if(r.length===0)throw new Error("No data to export");const l=a.map(s=>s.label).join(","),c=r.map(s=>a.map(u=>{let b=s[u.key];if(u.format&&b!==null&&b!==void 0&&(b=u.format(b)),b==null)return"";const m=String(b);return m.includes(",")||m.includes('"')||m.includes(`
`)?`"${m.replace(/"/g,'""')}"`:m}).join(",")),d=[l,...c].join(`
`),i=new Blob([d],{type:"text/csv;charset=utf-8;"});D(i,t)}function D(r,a){const t=document.createElement("a"),l=URL.createObjectURL(r);t.setAttribute("href",l),t.setAttribute("download",a),t.style.visibility="hidden",document.body.appendChild(t),t.click(),document.body.removeChild(t),URL.revokeObjectURL(l)}function x(r){if(!r)return"";try{return new Date(r).toLocaleDateString("en-US",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"})}catch{return String(r)}}function Q(r,a="csv"){const t=new Date().toISOString().split("T")[0];return`${r}_${t}.${a}`}function Z(r,a){const t=r.map(i=>i.label).join(","),l=r.map(i=>{const s=i.label.toLowerCase();return s.includes("email")?"example@email.com":s.includes("date")?"2024-01-15":s.includes("status")?"active":s.includes("priority")?"medium":s.includes("code")?"ASSET-001":s.includes("number")?"1":s.includes("price")||s.includes("value")?"1000.00":s.includes("phone")?"+1234567890":s.includes("yes/no")||s.includes("available")?"Yes":"Example value"}).join(","),c=[t,l].join(`
`),d=new Blob([c],{type:"text/csv;charset=utf-8;"});D(d,a)}const ee=[{key:"asset_code",label:"Asset Code"},{key:"name",label:"Name"},{key:"asset_type",label:"Asset Type"},{key:"type",label:"Type"},{key:"serial_number",label:"Serial Number"},{key:"manufacturer",label:"Manufacturer"},{key:"model_number",label:"Model Number"},{key:"status",label:"Status"},{key:"condition",label:"Condition"},{key:"owner",label:"Owner",format:r=>r?`${r.name||r.email}`:""},{key:"assigned_to",label:"Assigned To"},{key:"purchase_date",label:"Purchase Date",format:x},{key:"purchase_price",label:"Purchase Price"},{key:"current_value",label:"Current Value"},{key:"warranty_expiry",label:"Warranty Expiry",format:x},{key:"last_maintenance_date",label:"Last Maintenance Date",format:x},{key:"next_maintenance_date",label:"Next Maintenance Date",format:x},{key:"office_location",label:"Office Location"},{key:"department",label:"Department"},{key:"notes",label:"Notes"},{key:"createdAt",label:"Created At",format:x},{key:"updatedAt",label:"Updated At",format:x}],re=[{key:"number",label:"Ticket Number"},{key:"title",label:"Title"},{key:"status",label:"Status"},{key:"priority",label:"Priority"},{key:"createdBy",label:"Created By",format:r=>r?`${r.name||r.email}`:""},{key:"createdBy",label:"Creator Email",format:r=>(r==null?void 0:r.email)||""},{key:"assignedTo",label:"Assigned To",format:r=>r?`${r.name||r.email}`:""},{key:"assignedTo",label:"Assignee Email",format:r=>(r==null?void 0:r.email)||""},{key:"asset",label:"Asset Name",format:r=>(r==null?void 0:r.name)||""},{key:"asset",label:"Asset Code",format:r=>(r==null?void 0:r.asset_code)||""},{key:"description",label:"Description"},{key:"resolution",label:"Resolution"},{key:"department",label:"Department"},{key:"due_date",label:"Due Date",format:x},{key:"time_spent",label:"Time Spent (hours)"},{key:"comments",label:"Comments Count",format:r=>(r==null?void 0:r.length)||0},{key:"createdAt",label:"Created At",format:x},{key:"updatedAt",label:"Updated At",format:x},{key:"closedAt",label:"Closed At",format:x}],ae=[{key:"asset_code",label:"Asset Code (Required)"},{key:"name",label:"Name (Required)"},{key:"asset_type",label:"Asset Type"},{key:"serial_number",label:"Serial Number"},{key:"manufacturer",label:"Manufacturer"},{key:"model_number",label:"Model Number"},{key:"status",label:"Status (available/assigned/maintenance/repair/retired)"},{key:"condition",label:"Condition (new/good/fair/poor)"},{key:"purchase_date",label:"Purchase Date (YYYY-MM-DD)"},{key:"purchase_price",label:"Purchase Price"},{key:"warranty_expiry",label:"Warranty Expiry (YYYY-MM-DD)"},{key:"office_location",label:"Office Location"},{key:"department",label:"Department"},{key:"notes",label:"Notes"}],te=[{key:"title",label:"Title (Required)"},{key:"description",label:"Description (Required)"},{key:"priority",label:"Priority (low/medium/high/critical)"},{key:"status",label:"Status (open/in_progress/closed)"},{key:"asset_code",label:"Asset Code (Optional)"},{key:"assignee_email",label:"Assignee Email (Optional)"},{key:"department",label:"Department"},{key:"due_date",label:"Due Date (YYYY-MM-DD)"}];export{ee as A,P as B,G as C,re as T,_ as U,ae as a,te as b,Z as d,J as e,Q as g};
